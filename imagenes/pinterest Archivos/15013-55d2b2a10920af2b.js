"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[15013],{584818:function(e){var i,n,t,r,l,a,o={argumentDefinitions:[{kind:"RootArgument",name:"spec170x"},{kind:"RootArgument",name:"spec236x"},{kind:"RootArgument",name:"spec736x"}],kind:"Fragment",metadata:null,name:"TodayArticleModule",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"contentPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"images170x",args:[{kind:"Variable",name:"spec",variableName:"spec170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l=[n={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:"images236x",args:[{kind:"Variable",name:"spec",variableName:"spec236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:null},{alias:"images736x",args:[{kind:"Variable",name:"spec",variableName:"spec736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:a=[i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"contentPinOfficialUser",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedSource",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerPinId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showCreator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"videoPin",plural:!1,selections:[i,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},t,r],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"TodayArticle",abstractKey:null};o.hash="f156573993b56e46f1221b87c06c04f7",e.exports=o},936477:function(e,i,n){n.d(i,{Z:function(){return o}});var t=n(762782),r=n(302338),l=n(277901),a=n(885949);function o(e){var i=e.user,n=e.invertColors,o=e.isSecondaryButton,s=e.onTap,u=e.size,d=e.viewParameter,c=e.viewType,g=(0,t.useDispatch)(),p=i.id,m=(0,t.useSelector)((function(e){var n=e.users;return n[p]?n[p].explicitly_followed_by_me:i.explicitly_followed_by_me}));return(0,a.jsx)(r.Z,{id:p,onFollow:function(){g((0,l.ZN)(p,i)),s&&s()},onUnfollow:function(){g((0,l.fv)(p,i)),s&&s()},size:u,invertColors:n,isSecondaryButton:o,isFollowed:m,isUserFollowButton:!0,followEventType:45,unfollowEventType:46,viewParameter:d,viewType:c})}},556862:function(e,i){i.Z=function(e){switch(e.action){case"PUSH":case"REPLACE":return"click";case"POP":return e.location.key?"click":"deeplink";default:return null}}},477874:function(e,i,n){n.d(i,{i:function(){return B},B:function(){return M}});var t=n(762782),r=n(556862),l=n(510367),a=n(247962),o=n(371974),s=n(146846),u=n(885949),d=function(e){var i,n=e.imageUrls,t=e.subtitle,r=e.subtitleSize,d=e.title,c=e.titleSize,g=(0,o.HG)(),p=(0,a.Z)(),m=p.isHovering,h=p.handleMouseEnter,f=p.handleMouseLeave;return!n||n.length<=0?null:(0,u.jsxs)(s.xu,{borderStyle:"shadow",color:"white",overflow:"hidden",position:"relative",rounding:8,dangerouslySetInlineStyle:{__style:{paddingTop:"75%"}},onMouseEnter:g?h:void 0,onMouseLeave:g?f:void 0,children:[m&&(0,u.jsx)(l.Z,{}),(0,u.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,u.jsx)(s.Ee,{alt:d,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(i=n[0])&&void 0!==i?i:"",children:(0,u.jsx)(s.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",alignItems:"end",paddingY:6,paddingX:5,children:(0,u.jsxs)(s.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",width:"100%",children:[t&&(0,u.jsx)(s.xu,{marginBottom:1,children:(0,u.jsx)(s.xv,{color:"white",size:r,align:"center",children:t})}),(0,u.jsx)(s.X6,{color:"white",size:c,align:"center",children:d})]})})})})]})},c=n(156575),g=n(936477),p=n(477783);function m(e,i){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);i&&(t=t.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),n.push.apply(n,t)}return n}function h(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?m(Object(n),!0).forEach((function(i){f(e,i,n[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))}))}return e}function f(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}var v=Math.floor(24),y=function(e){var i=e.articleId,n=e.imageUrls,r=e.subtitle,d=e.title,m=e.viewParameter,f=e.viewType,y=e.user,x=(0,t.useSelector)((function(e){return e.session})).isAuthenticated,w=(0,o.HG)(),b=(0,a.Z)(),j=b.isHovering,_=b.handleMouseEnter,I=b.handleMouseLeave;if(!y||!n||n.length<=0)return null;var P=y.full_name,S=y.image_medium_url,k=y.image_small_url,T=S||k||"",U=Math.min(n.length,3),C={aux_data:{today_article_id:i},component:13525,object_id_str:i,view_parameter:m,view_type:f};return(0,u.jsxs)(s.xu,{borderStyle:"shadow",color:"white",onMouseEnter:w?_:void 0,onMouseLeave:w?I:void 0,overflow:"hidden",rounding:8,children:[j&&(0,u.jsx)(l.Z,{}),(0,u.jsx)(s.xu,{display:"flex",position:"relative",width:"100%",dangerouslySetInlineStyle:{__style:{paddingTop:"45%"}},children:(0,u.jsx)(s.xu,{display:"flex",height:"100%",direction:"row",left:!0,position:"absolute",top:!0,width:"100%",children:n.slice(0,U).map((function(e,i){return(0,u.jsx)(s.xu,{width:"".concat(100/U,"%"),children:(0,u.jsx)(s.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:e},i)})}))})}),(0,u.jsxs)(s.xu,{flex:"none",paddingX:5,paddingY:6,position:"relative",width:"100%",children:[(0,u.jsx)(s.xu,{height:48,position:"absolute",width:48,dangerouslySetInlineStyle:{__style:{left:"calc(50% - ".concat(v,"px)"),top:"-".concat(v,"px")}},children:(0,u.jsx)(c.Z,{name:null!=P?P:"",outline:!0,size:"fit",src:T})}),d&&(0,u.jsx)(s.xu,{marginTop:2,children:(0,u.jsx)(s.X6,{size:"sm",align:"center",children:d})}),r&&(0,u.jsx)(s.xu,{marginTop:2,children:(0,u.jsx)(s.xv,{align:"center",size:"sm",children:r})}),x&&(0,u.jsx)(s.xu,{display:"flex",justifyContent:"center",marginTop:3,children:(0,u.jsx)(g.Z,{isSecondaryButton:!0,onTap:function(){(0,p.So)(h(h({},C),{},{element:62}))},size:"lg",user:y,viewParameter:m,viewType:f})})]})]})},x=n(690433),w=n(414229),b=n(260259),j=n(952733),_=n(414021),I=n(362191);var P=function(e){var i=e.userId;return(0,u.jsx)(I.Z,{avatarSize:"xs",hideButtons:!0,shouldNavigateToProfile:!1,type:"row",userId:i,viewParameter:3372,viewType:1})},S=n(901178),k=n(763584);function T(e){var i=e.articleId,n=e.creatorId,t=e.gridIndex,r=e.imageHeight,d=e.imageWidth,c=e.imageUrl,g=e.pinId,p=e.showCreator,m=e.trackingParams,h=e.title,f=e.viewParameter,v=e.viewType,y=(0,b.TH)(),x=(0,a.Z)(),j=x.isHovering,I=x.handleMouseEnter,S=x.handleMouseLeave,k=(0,o.HG)();return(0,u.jsxs)(s.xu,{borderStyle:"shadow",color:"white",onMouseEnter:k?I:void 0,onMouseLeave:k?S:void 0,overflow:"hidden",rounding:8,children:[j&&(0,u.jsx)(l.Z,{}),(0,u.jsx)(w.dL,{auxData:{grid_index:t,today_article_id:i},loggingId:g,objectIdStr:g,slotIndex:t,impressionData:{imageURL:c},component:13525,trackingParams:(0,_.Z)((y.state||{}).trackingParams,m),viewParameter:f,viewType:v,children:function(e){var i=e.impressionTrackerRef;return(0,u.jsx)(s.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof r&&"number"==typeof d?"".concat(r/d*100,"%"):"100%"}},ref:i,children:(0,u.jsx)(s.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,u.jsx)(s.Ee,{alt:h,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=c?c:""})})})}}),(0,u.jsxs)(s.xu,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[(0,u.jsx)(s.X6,{align:"center",size:"sm",children:h}),p&&n&&(0,u.jsx)(s.xu,{display:"flex",marginTop:3,justifyContent:"center",children:(0,u.jsx)(P,{userId:n})})]})]})}function U(e){var i=e.articleId,n=e.gridIndex,t=e.pinId,r=e.pinOfficialUserId,l=e.showCreator,a=e.title,o=e.viewParameter,s=e.viewType,d=(0,k.Nj)(t);if(!d)return null;var c=d.id,g=d.images,p=d.origin_pinner,m=d.pinner,h=d.tracking_params,f=(null==g?void 0:g["736x"])||(null==g?void 0:g["236x"])||(null==g?void 0:g["170x"]);if(!f)return null;var v=(0,S.xt)(r,null==p?void 0:p.id,null==m?void 0:m.id);return(0,u.jsx)(T,{articleId:i,creatorId:v,gridIndex:n,pinId:c,imageHeight:f.height,imageUrl:f.url,imageWidth:f.width,showCreator:l,title:a,trackingParams:h,viewParameter:o,viewType:s})}var C=T,O=n(237785),F=function(e){var i=e.articleId,n=e.gridIndex,t=e.hasPinnerAttribution,r=e.imageHeight,l=e.imageWidth,a=e.imageUrl,o=e.pageCount,d=e.pinId,g=e.pinnerImageSrc,p=e.pinnerName,m=e.pinTrackingParams,h=e.title,f=e.viewParameter,v=e.viewType,y=(0,b.TH)();return(0,u.jsxs)(s.xu,{borderStyle:"shadow",color:"white",overflow:"hidden",paddingY:6,rounding:8,children:[(0,u.jsx)(s.xu,{paddingX:6,display:"flex",justifyContent:"center",children:(0,u.jsx)(s.X6,{align:"center",size:"sm",children:h})}),(0,u.jsx)(w.dL,{auxData:{grid_index:n,today_article_id:i},loggingId:d,objectIdStr:d,slotIndex:n,impressionData:{imageURL:a},component:13525,trackingParams:(0,_.Z)((y.state||{}).trackingParams,m),viewParameter:f,viewType:v,children:function(e){var i=e.impressionTrackerRef;return(0,u.jsxs)(s.xu,{marginTop:4,paddingX:12,ref:i,children:[(0,u.jsx)(s.zd,{rounding:8,children:(0,u.jsx)(s.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"number"==typeof r&&"number"==typeof l?"".concat(r/l*100,"%"):"100%"}},children:(0,u.jsx)(s.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,u.jsx)(s.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=a?a:"",children:(0,u.jsx)(s.xu,{position:"relative",marginStart:1,marginTop:1,children:(0,u.jsx)(O.Z,{icon:"idea-pin",text:o.toString()})})})})})}),t&&(0,u.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:2,maxWidth:"100%",children:[(0,u.jsx)(s.xu,{flex:"none",height:44,width:44,marginEnd:2,children:(0,u.jsx)(c.Z,{name:"",outline:!0,size:"fit",src:g})}),(0,u.jsx)(s.xv,{lineClamp:1,children:p})]})]})}})]})},L=function(e){var i=e.articleId,n=e.gridIndex,t=e.pinId,r=e.title,l=e.viewParameter,a=e.viewType,o=(0,k.Nj)(t),s=(0,k.T5)(o),d=(0,k.ce)(o);if(!o)return null;var c=(null==d?void 0:d.page_count)||"",g=o.images,p=(null==g?void 0:g["736x"])||(null==g?void 0:g["236x"])||(null==g?void 0:g["170x"]);if(!p)return null;var m=(null==s?void 0:s.image_medium_url)||(null==s?void 0:s.image_small_url)||"",h=(null==s?void 0:s.full_name)||"",f=Boolean(m||h);return(0,u.jsx)(F,{articleId:i,imageHeight:p.height,imageWidth:p.width,imageUrl:p.url,gridIndex:n,hasPinnerAttribution:f,pageCount:c,pinId:o.id,pinnerImageSrc:m,pinnerName:h,pinTrackingParams:o.tracking_params,title:r,viewParameter:l,viewType:a})},R=F,z=n(289335);function A(e){var i=e.articleId,n=e.creatorId,t=e.gridIndex,r=e.height,d=e.pinDescription,c=e.pinImageHeight,g=e.pinImageUrl,p=e.pinImageWidth,m=e.showCreator,h=e.thumbnail,f=e.title,v=e.trackingParams,y=e.url,x=e.videoPinId,j=e.viewParameter,I=e.viewType,S=e.width,k=(0,b.TH)(),T=(0,o.HG)(),U=(0,a.Z)(),C=U.isHovering,O=U.handleMouseEnter,F=U.handleMouseLeave;return(0,u.jsxs)(s.xu,{borderStyle:"shadow",color:"white",direction:"column",display:"flex",flex:"none",overflow:"hidden",rounding:8,dangerouslySetInlineStyle:{__style:{transform:"translate3d(0, 0, 0)"}},onMouseEnter:T?O:void 0,onMouseLeave:T?F:void 0,children:[C&&(0,u.jsx)(l.Z,{}),(0,u.jsx)(w.dL,{auxData:{grid_index:t,today_article_id:i},loggingId:x,objectIdStr:x,slotIndex:t,impressionData:{imageURL:g},component:13525,trackingParams:(0,_.Z)((k.state||{}).trackingParams,v),viewParameter:j,viewType:I,children:function(e){var i=e.impressionTrackerRef;return(0,u.jsx)(s.xu,{ref:i,children:(0,u.jsx)(z.Z,{height:r,thumbnail:h,url:y,width:S,pinDescription:d,pinImageUrl:g,pinImageHeight:c,pinImageWidth:p})})}}),(0,u.jsxs)(s.xu,{paddingX:6,paddingY:4,display:"flex",justifyContent:"center",direction:"column",children:[(0,u.jsx)(s.X6,{align:"center",size:"sm",children:f}),m&&n&&(0,u.jsx)(s.xu,{display:"flex",marginTop:3,justifyContent:"center",children:(0,u.jsx)(P,{userId:n})})]})]})}function D(e){var i,n,t=e.articleId,r=e.gridIndex,l=e.pinOfficialUserId,a=e.showCreator,o=e.title,s=e.videoPinId,d=e.viewParameter,c=e.viewType,g=(0,k.Nj)(s);if(!g)return null;var p=g.description,m=g.images,h=g.origin_pinner,f=g.pinner,v=g.tracking_params,y=(0,S.xt)(l,null==h?void 0:h.id,null==f?void 0:f.id),x=(null==m?void 0:m["736x"])||(null==m?void 0:m["236x"])||(null==m?void 0:m["170x"])||{},w=null!=x?x:{},b=w.url,j=w.height,_=w.width,I=null===(i=g.videos)||void 0===i||null===(n=i.video_list)||void 0===n?void 0:n.V_720P,P=null!=I?I:{},T=P.height,U=P.thumbnail,C=P.url,O=P.width;return(0,u.jsx)(A,{articleId:t,creatorId:y,gridIndex:r,height:T,pinDescription:p,pinImageHeight:j,pinImageUrl:b,pinImageWidth:_,showCreator:a,title:o,trackingParams:v,thumbnail:U,url:C,videoPinId:s,viewParameter:d,viewType:c,width:O})}var E,K=A,Z=n(758834),H=new Set([3,2,6]),N=function(e){var i=e.ArticleModule,n=e.clientTrackingParams,t=e.id,l=e.displayType,a=e.gridIndex,o=e.isTodayArticlePage,d=void 0!==o&&o,c=e.onArticleTapUrl,g=e.pinId,m=e.viewParameter,h=e.viewType,f=(0,b.k6)();return(0,u.jsx)(w.Y4,{auxData:{grid_index:a.toString(),today_article_id:t},loggingId:t,objectIdStr:t,slotIndex:a,viewParameter:m||3372,viewType:h||1,children:function(e){var o=e.impressionTrackerRef;return(0,u.jsx)(s.xu,{ref:o,children:(0,u.jsx)(W,{href:c,isTodayArticlePage:d,onTap:function(){(0,p.So)({view_type:h||1,view_parameter:m||3372,component:13525,aux_data:{today_article_id:t,grid_index:a.toString()}}),"number"==typeof l&&H.has(l)&&n&&g&&(0,p.j)({event_type:8948,view_type:h||1,view_parameter:m||3372,object_id_str:g,clientTrackingParams:n,aux_data:{today_article_id:g,grid_index:a.toString(),cosmic_ray_count:"4",closeup_navigation_type:(0,r.Z)(f)}}),f.push(c)},children:i})})}})},V=void 0!==E?E:E=n(584818),B=function(e){var i,n,t,r,l,a,o,s,c,g,p,m,h,f,v,y=e.containerKey,w=e.gridIndex,b=e.subtitleSize,j=e.titleSize,_=e.viewParameter,I=e.viewType,P=(0,Z.useFragment)(V,y),k=P.contentPinOfficialUser,T=P.contentPin,U=P.displayType,O=P.feedSource,F=P.headerPinId,L=P.id,z=P.imageUrls,A=P.showCreator,D=P.subtitle,E=P.title,H=P.videoPin,B=null,M=(0,S.T7)(null!=O?O:0,null!=E?E:"",null!=L?L:""),W=null!=T?T:{},X=W.description,G=W.images170x,Y=W.images236x,Q=W.images736x,q=W.pinner,J=W.storyPinData,$=W.trackingParams,ee=null!==(i=null!==(n=null!==(t=null==Q?void 0:Q.url)&&void 0!==t?t:null==Y?void 0:Y.url)&&void 0!==n?n:null==G?void 0:G.url)&&void 0!==i?i:"",ie=null!==(r=null!==(l=null==Q?void 0:Q.width)&&void 0!==l?l:null==Y?void 0:Y.width)&&void 0!==r?r:null==G?void 0:G.width,ne=null!==(a=null!==(o=null==Q?void 0:Q.height)&&void 0!==o?o:null==Y?void 0:Y.height)&&void 0!==a?a:null==G?void 0:G.height,te=(null!=T?T:{}).originPinner,re=(0,S.xt)(null==k?void 0:k.entityId,null==te?void 0:te.entityId,null==q?void 0:q.entityId);switch(U){case 0:B=(0,u.jsx)(d,{imageUrls:z,subtitle:null!=D?D:"",subtitleSize:b||"lg",title:null!=E?E:"",titleSize:j||"md"});break;case 1:B=(0,u.jsx)(x.Z,{imageUrls:z,subtitle:null!=D?D:"",subtitleSize:b||"lg",title:null!=E?E:"",titleSize:j||"md"});break;case 2:var le=null!=H?H:{},ae=le.entityId,oe=le.videos,se=null!==(s=null==oe||null===(c=oe.videoList)||void 0===c?void 0:c.v720P)&&void 0!==s?s:{};ae&&(B=(0,u.jsx)(K,{articleId:null!=L?L:"",creatorId:re,gridIndex:w,height:se.height,pinDescription:X,pinImageUrl:ee,pinImageHeight:ne,pinImageWidth:ie,showCreator:Boolean(A),thumbnail:se.thumbnail,title:null!=E?E:"",trackingParams:$,url:se.url,videoPinId:ae,viewParameter:_,viewType:I,width:se.width}),M="/pin/".concat(ae));break;case 3:if(!ee)return null;B=(0,u.jsx)(C,{articleId:null!=L?L:"",creatorId:re,imageUrl:ee,imageHeight:null!=ne?ne:0,imageWidth:null!=ie?ie:0,gridIndex:w,pinId:null!==(g=null==T?void 0:T.entityId)&&void 0!==g?g:"",showCreator:Boolean(A),title:null!=E?E:"",trackingParams:$,viewParameter:_,viewType:I}),M=F?"/pin/".concat(F):M;break;case 6:if(!ee)return null;var ue=null!==(p=null!==(m=null==q?void 0:q.imageMediumUrl)&&void 0!==m?m:null==q?void 0:q.imageSmallUrl)&&void 0!==p?p:"",de=null!==(h=null==q?void 0:q.fullName)&&void 0!==h?h:"",ce=Boolean(ue||de);return(0,u.jsx)(R,{articleId:null!=L?L:"",gridIndex:w,hasPinnerAttribution:ce,imageUrl:ee,imageHeight:null!=ne?ne:0,imageWidth:null!=ie?ie:0,pageCount:null!==(f=null==J?void 0:J.pageCount)&&void 0!==f?f:"",pinId:null!==(v=null==T?void 0:T.entityId)&&void 0!==v?v:"",pinnerImageSrc:ue,pinnerName:de,pinTrackingParams:$,title:null!=E?E:"",viewParameter:_,viewType:I});default:B=null}return B?(0,u.jsx)(N,{ArticleModule:B,displayType:U,gridIndex:w,id:null!=L?L:"",onArticleTapUrl:M,viewParameter:_,viewType:I}):null},M=function(e){var i=e.gridIndex,n=e.id,r=e.isTodayArticlePage,l=e.article,a=e.subtitleSize,o=e.titleSize,s=e.viewParameter,c=e.viewType,g=(0,t.useSelector)((function(e){return e.users})),p=(0,t.useSelector)((function(e){return e.pins})),m=(0,t.useSelector)((function(e){var i=e.todayArticles;return l||i[n]}));if(!m)return null;var h=m.article_creator_user,f=m.content_pin,v=m.content_pin_official_user,w=m.display_type,b=m.feed_source,j=m.header_pin_id,_=m.image_urls,I=m.show_creator,P=m.subtitle,k=m.title,T=m.video_pin,C=g[h||""],O=f||T,F=O?p[O].tracking_params:void 0,R=null,z=(0,S.T7)(b,k,n);switch(w){case 0:R=(0,u.jsx)(d,{imageUrls:_,subtitle:P,subtitleSize:a||"lg",title:k,titleSize:o||"md"});break;case 1:R=(0,u.jsx)(x.Z,{imageUrls:_,subtitle:P,subtitleSize:a||"lg",title:k,titleSize:o||"md"});break;case 2:T&&(R=(0,u.jsx)(D,{articleId:n,gridIndex:i,pinOfficialUserId:v,showCreator:I,title:k,videoPinId:T,viewParameter:s,viewType:c}),z="/pin/".concat(T));break;case 3:R=(0,u.jsx)(U,{articleId:n,gridIndex:i,pinId:f,pinOfficialUserId:v,showCreator:I,title:k,viewParameter:s,viewType:c}),z="/pin/".concat(j);break;case 6:R=(0,u.jsx)(L,{articleId:n,gridIndex:i,pinId:f,title:k,viewParameter:s,viewType:c}),z="/pin/".concat(j);break;case 8:C?(R=(0,u.jsx)(y,{articleId:n,imageUrls:_,subtitle:P,title:k,user:C,viewParameter:s,viewType:c}),z="/".concat(encodeURIComponent(C.username),"/")):R=null;break;default:R=null}return R?(0,u.jsx)(N,{ArticleModule:R,clientTrackingParams:F,displayType:w,gridIndex:i,id:n,isTodayArticlePage:r,onArticleTapUrl:z,pinId:O,viewParameter:s,viewType:c}):null},W=function(e){var i=e.children,n=e.href,t=e.isTodayArticlePage,r=e.onTap,l=(0,j.B)().isAuthenticated,a=(0,o.HG)();return l?(0,u.jsx)(s.iP,{onTap:function(e){var i=e.event;(0,e.dangerouslyDisableOnNavigation)(),r({event:i})},tapStyle:"compress",children:i}):(0,u.jsx)(s.iP,{href:n,onTap:function(e){var i=e.event;(0,e.dangerouslyDisableOnNavigation)(),r({event:i})},role:"link",children:a?(0,u.jsx)(s.xu,{width:t?void 0:408,minHeight:t?void 0:306,children:i}):i})}},362191:function(e,i,n){n.d(i,{Z:function(){return y}});var t=n(762782),r=n(302338),l=n(710159),a=n(564327),o=n(123686),s=n(146846),u=n(952733),d=n(885949),c=function(e){var i=e.followerCount,n=(0,l.ZP)(),t=(0,a.Z)(),r=(0,u.B)().locale;return(0,d.jsx)(s.xv,{children:(0,o.nk)(n.ngettext("{{followers}} follower","{{followers}} followers",i,"pinPage.attribution.followersCount","Count of a user's followers"),{followers:t(r,i,{shortform:!0,shortform_maximum_fraction_digits:0})})})},g=n(745456),p=n(222729),m=n(477783),h=n(260259),f=n(740049),v=n(277901),y=(0,t.connect)((function(e,i){return{user:e.users[i.userId]||i.userBlob,viewingUserId:e.session.userId,isAuthenticated:e.session.isAuthenticated}}),(function(e){return{followUser:function(i,n){return e((0,v.ZN)(i,n))},unfollowUser:function(i,n){return e((0,v.fv)(i,n))},unblockUser:function(i){return e((0,v.h2)(i))}}}))((function(e){var i=(0,l.ZP)(),n=(0,h.TH)(),t=(0,g.Z)(),a=e.avatarSize,o=e.detailText,u=e.followUser,v=e.hideButtons,y=e.isAuthenticated,x=e.isCurrentUser,w=e.isOnCloseup,b=e.isImagePinForUnauthOnTablet,j=e.pinId,_=e.shouldNavigateToProfile,I=void 0===_||_,P=e.textColor,S=e.type,k=e.unblockUser,T=e.unfollowUser,U=e.user,C=e.userBlob,O=e.viewParameter,F=e.viewType,L=e.viewingUserId,R=e.unauthFollow,z=e.activateLexFollowExp;if(!U)return null;var A=U.blocked_by_me,D=U.explicitly_followed_by_me,E=U.follower_count,K=U.full_name,Z=U.id,H=U.image_large_url,N=U.image_medium_url,V=U.image_small_url,B=U.is_verified_merchant,M=U.verified_identity,W=U.username,X=(j&&j.length,function(){return(0,d.jsx)(r.Z,{disableLog:!0,followEventType:45,id:Z,isFollowed:D||!1,isSecondaryButton:!0,isUserFollowButton:!0,isUserMe:L===Z,onFollow:function(){return w?void(y?(u(Z,U),(0,m.j)({event_type:45,view_type:3,view_parameter:156,view_data:{isCurrentUser:x,viewObjectId:j,viewObjectIdStr:j},object_id_str:Z})):t({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth.follow_button",desktopOptions:{modalType:"login"}})):u(Z,U)},onUnfollow:function(){return w?(T(Z,U),void(0,m.j)({event_type:46,view_type:3,view_parameter:156,object_id_str:Z})):T(Z,U)},size:"md",unfollowEventType:46,viewParameter:O,viewType:F})}),G=function(){return A?(0,d.jsx)(s.zx,{fullWidth:!0,color:"gray",onClick:function(){return k(Z)},size:"md",text:i._("Unblock"," - "," -- ")}):y?X():z?!z().group.includes("hide_follow")&&R?X():null:R?X():null},Y=B||(null==C?void 0:C.is_verified_merchant),Q=E||(null==C?void 0:C.follower_count),q=function(e){return(0,d.jsx)(s.HE,{accessibilityLabel:i._("User`s avatar","User`s avatar","User`s avatar"),onClick:function(){(0,f.LW)({action:"click",page:"pin",item:"avatar-image"})},collaborators:[{name:null!=K?K:"",src:H||N||V||void 0}],size:(e||{}).size})},J=b?"calc(100% - 48px)":void 0,$=Y||(null==M?void 0:M.verified),ee=(0,d.jsxs)(s.kC,{alignItems:"center",flex:"shrink",justifyContent:"start",children:[(0,d.jsx)(s.xu,{flex:"none",marginEnd:2,children:q({size:a||"md"})}),(0,d.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",maxWidth:J,children:[(0,d.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,d.jsx)(s.iP,{onTap:function(){(0,f.LW)({action:"click",page:"pin",item:"username"})},children:(0,d.jsx)(s.xv,{color:P||"darkGray",lineClamp:b?1:void 0,weight:"bold",children:K})}),$&&(0,d.jsx)(s.xu,{marginStart:1,paddingY:1,children:(0,d.jsx)(p.Z,{showVerifiedIdentity:!Y,size:"sm"})})]}),(0,d.jsx)(s.xv,{color:P||"darkGray",lineClamp:b?1:void 0,children:o}),!!Q&&(0,d.jsx)(s.iP,{onTap:function(){(0,f.LW)({action:"click",page:"pin",item:"user-follower-count"})},children:(0,d.jsx)(c,{followerCount:Q})})]})]}),ie="row"===S?(0,d.jsxs)(s.kC,{alignItems:"center",justifyContent:"between",children:[ee,!v&&(0,d.jsx)(s.xu,{flex:"none",marginStart:2,children:G()})]}):(0,d.jsxs)(s.xu,{maxWidth:J,padding:2,children:[q(),(0,d.jsxs)(s.xu,{display:"flex",paddingY:2,children:[(0,d.jsx)(s.xv,{align:"center",size:"md",lineClamp:1,weight:"bold",children:K}),$&&(0,d.jsx)(s.xu,{marginStart:1,paddingY:1,children:(0,d.jsx)(p.Z,{showVerifiedIdentity:!Y,size:"sm"})})]}),!v&&G()]}),ne=(0,d.jsxs)(s.xu,{alignItems:"center",display:"flex",justifyContent:"between",overflow:"hidden",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,d.jsx)(s.iP,{role:"link",onTap:function(e){e.event;y||((0,f.NC)("click_pin_closeup_profile"),(0,f.LW)({action:"click",page_location:n,item:"user-rep"}))},tapStyle:"compress",rounding:2,href:"/".concat(encodeURIComponent(W),"/"),children:ee}),!v&&(0,d.jsx)(s.xu,{flex:"none",marginStart:2,children:G()})]});return(0,d.jsx)(s.xu,{"data-test-id":"user-rep",width:"100%",children:I?ne:ie})}))},289335:function(e,i,n){n.d(i,{Z:function(){return y},e:function(){return x}});var t=n(32425),r=n(708206),l=n(979343),a=n(146846),o=n(763584),s=n(885949);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function c(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function g(e,i){return(g=Object.setPrototypeOf||function(e,i){return e.__proto__=i,e})(e,i)}function p(e){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,t=f(e);if(i){var r=f(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return m(this,n)}}function m(e,i){if(i&&("object"===u(i)||"function"==typeof i))return i;if(void 0!==i)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}var y=function(e){!function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),i&&g(e,i)}(u,e);var i,n,t,o=p(u);function u(){var e;d(this,u);for(var i=arguments.length,n=new Array(i),t=0;t<i;t++)n[t]=arguments[t];return v(h(e=o.call.apply(o,[this].concat(n))),"state",{isPlaying:!1,isVideoReady:!1,isVisibleForPlaying:!1,startLoading:!1}),v(h(e),"handleVisibilityChanged",(function(i){var n=i[0].intersectionRatio,t=e.state,r=t.isPlaying,l=t.isVideoReady,a=t.startLoading;n>=.8?(e.setState({isVisibleForPlaying:!0}),e.videoRef&&(a?l&&!r&&e.videoRef.play():(e.videoRef.load(),e.setState({startLoading:!0})))):(e.setState({isVisibleForPlaying:!1}),e.videoRef&&l&&e.videoRef.pause())})),v(h(e),"handleVideoPause",(function(){return e.setState({isPlaying:!1})})),v(h(e),"handleVideoPlay",(function(){return e.setState({isPlaying:!0})})),v(h(e),"getVideoRef",(function(i){return e.videoRef=i})),v(h(e),"setIsVideoReadyTrue",(function(){e.setState({isVideoReady:!0}),e.videoRef&&!e.state.isPlaying&&e.state.isVisibleForPlaying&&e.videoRef.play()})),e}return i=u,(n=[{key:"render",value:function(){var e=this.props,i=e.height,n=e.thumbnail,t=e.url,o=e.width,u=e.pinDescription,d=e.pinImageHeight,c=e.pinImageUrl,g=e.pinImageWidth,p=(null!=i?i:1)/(null!=o?o:1);return t?(0,s.jsx)(r.Z,{options:{threshold:[0,.5,.8,1]},onVisibilityChange:this.handleVisibilityChanged,children:(0,s.jsx)(a.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"".concat(100*p,"%")}},children:(0,s.jsx)(a.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,s.jsx)("video",{height:"100%",muted:!0,onCanPlay:this.setIsVideoReadyTrue,onPause:this.handleVideoPause,onPlay:this.handleVideoPlay,playsInline:!0,poster:n,preload:"none",ref:this.getVideoRef,src:t,width:"100%"})})})}):(0,s.jsx)(a.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:(0,s.jsx)(l.Z,{description:u,imageUrl:c,imageHeight:d,imageWidth:g})})}}])&&c(i.prototype,n),t&&c(i,t),u}(t.PureComponent);function x(e){var i,n,t=e.pinId,r=(0,o.Nj)(t);if(!r)return null;var l=r.images&&(r.images.orig||r.images["736x"]||r.images["290x"]||r.images["236x"]),a=r.description,u=null!=l?l:{},d=u.url,c=u.height,g=u.width,p=null===(i=r.videos)||void 0===i||null===(n=i.video_list)||void 0===n?void 0:n.V_720P,m=null!=p?p:{},h=m.height,f=m.thumbnail,v=m.url,x=m.width;return(0,s.jsx)(y,{height:h,thumbnail:f,url:v,width:x,pinDescription:a,pinImageUrl:d,pinImageHeight:c,pinImageWidth:g})}},888778:function(e){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=[],t=[];function r(e,n,t,l){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if("object"!=i(e)||"object"!=i(n))return!1;var a=Object.prototype.toString,o=a.call(e);if(o!=a.call(n))return!1;switch(o){case"[object String]":return e==String(n);case"[object Number]":return!isNaN(e)&&!isNaN(n)&&e==Number(n);case"[object Date]":case"[object Boolean]":return+e==+n;case"[object RegExp]":return e.source==n.source&&e.global==n.global&&e.multiline==n.multiline&&e.ignoreCase==n.ignoreCase}for(var s=t.length;s--;)if(t[s]==e)return l[s]==n;t.push(e),l.push(n);var u=0;if("[object Array]"===o){if((u=e.length)!==n.length)return!1;for(;u--;)if(!r(e[u],n[u],t,l))return!1}else{if(e.constructor!==n.constructor)return!1;if(e.hasOwnProperty("valueOf")&&n.hasOwnProperty("valueOf"))return e.valueOf()==n.valueOf();var d=Object.keys(e);if(d.length!=Object.keys(n).length)return!1;for(var c=0;c<d.length;c++)if(!r(e[d[c]],n[d[c]],t,l))return!1}return t.pop(),l.pop(),!0}e.exports=function(e,i){var l=n.length?n.pop():[],a=t.length?t.pop():[],o=r(e,i,l,a);return l.length=0,a.length=0,n.push(l),t.push(a),o}},440745:function(e){function i(e){return function(){return e}}var n=function(){};n.thatReturns=i,n.thatReturnsFalse=i(!1),n.thatReturnsTrue=i(!0),n.thatReturnsNull=i(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},214073:function(e,i,n){var t=n(440745);e.exports=t}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/15013-55d2b2a10920af2b.js.map