(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[34406],{130008:function(e,n,t){"use strict";var r=t(899695),i=t(146846),o=t(885949);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){u(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var c={__style:{borderRadius:"4px",padding:"10px 14px"}},s={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},d={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}};n.Z=function(e){var n,t=e.accessibilityLabel,a=e.color,u=e.customStyles,p=e.forwardedRef,f=e.icon,m=e.inline,h=void 0!==m&&m,g=e.minHeight,v=void 0===g?40:g,y=e.minWidth,b=void 0===y?70:y,_=e.onTouch,x=e.pressState,w=e.size,j=e.shape,P=e.text,k=function(e){return"red"===e||"transparent"===e||"darkGray"===e?"white":"darkGray"}(a),O=function(e){var n=e.color;return e.icon?d:"transparent"===n?{__style:l(l({},c.__style),s)}:c}({color:a,icon:f}),S=(0,o.jsx)(i.xu,{position:"relative",children:(0,o.jsx)(i.xu,{color:a,display:h?"inlineBlock":"flex",justifyContent:"center",minHeight:v,minWidth:b,dangerouslySetInlineStyle:"pill"===j?(n=u,{__style:l({borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px"},n)}):O,children:(0,o.jsxs)(i.kC,{alignItems:"center",justifyContent:"center",children:[f&&(0,o.jsx)(i.xu,{paddingX:"check"===f?2:0,children:(0,o.jsx)(i.JO,{accessibilityLabel:t,color:k,icon:f,inline:!0,size:"check"===f?16:20})}),(0,o.jsx)(i.xv,{color:k,inline:!0,size:w,lineClamp:1,weight:"bold",children:P})]})})});return _?(0,o.jsx)(r.Z,{onTouch:_,rounding:"pill"===j?"pill":2,pressState:x||"none",children:(0,o.jsx)(i.xu,{ref:p,children:S})}):S}},117167:function(e,n,t){"use strict";t.d(n,{MZ:function(){return N},di:function(){return H},Ai:function(){return z}});var r=t(32425),i=t(762782),o=t(151994),a=t(505621),l=t(130008),u=t(405658),c=t(584230),s=t(890229),d=t(394465),p=t(539195),f=t(164271),m=t(260259),h=function(e){var n=e.children,t=e.external,r=e.externalQueryParams,i=e.target,o=e.href,a=(0,p.v)().logContextEvent,l=(0,m.k6)(),u=(0,m.TH)();if(!o)return null;var c=(0,s.Z)(o);return n({navigate:function(e){e.preventDefault(),(0,d.Z)({url:c})||t?(0,f.lI)({href:c,queryParams:r,location:u},a):(0,f.G3)({event:e,href:o,history:l,target:"blank"===i?"blank":null})}})},g=t(146846),v=t(885949),y=function(e){var n=e.children,t=e.external,r=e.externalQueryParams,i=e.inline,o=void 0!==i&&i,a=e.newTab,l=e.nofollow,u=e.onTouch,c=e.onBlur,d=e.onFocus,p=e.pressState,f=e.rounding,m=e.to;return(0,v.jsx)(h,{external:t,target:a?"blank":null,externalQueryParams:r,href:m,children:function(e){var t=e.navigate;return(0,v.jsx)(g.rU,{onBlur:c?function(e){var n=e.event;return c(n)}:void 0,onFocus:d?function(e){var n=e.event;return d(n)}:void 0,hoverStyle:"none",href:(0,s.Z)(m),inline:o,onClick:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),null==u||u(n),n.defaultPrevented||t(n)},rel:l?"nofollow":"none",rounding:f,tapStyle:(Array.isArray(p)?p:[p]).includes("compress")?"compress":"none",children:n})}})},b=["external","externalQueryParams","newTab","onTouch","to"];function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function x(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function w(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var j=function(e){var n=e.external,t=e.externalQueryParams,r=e.newTab,i=e.onTouch,o=e.to,a=w(e,b);return(0,v.jsx)(h,{external:n,target:r?"blank":null,externalQueryParams:t,href:o,children:function(e){var n=e.navigate;return(0,v.jsx)(l.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach((function(n){x(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({onTouch:function(e){null==i||i(e),e.defaultPrevented||n(e)}},a))}})},P=t(540690),k=t(855571),O=t(829680),S=t(347676),T=t(477783),I=t(198873),C=t(340813),A=["isAppUpsellDisabled"];function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function L(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){D(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function D(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Z(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return R(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return R(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function U(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var B=function(e){return"string"==typeof e?e:"".concat(e.pathname||"").concat(e.search?"?".concat(e.search):"")},M=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(t){var l=t.isAppUpsellDisabled,s=U(t,A),d=s.children,p=s.clientTrackingParams,f=s.deeplinkUri,m=s.external,h=s.onTouch,y=s.refresh,b=s.to,_=s.viewParameter,x=s.viewType,w=(0,P.Z)(),j=Z((0,r.useState)(!1),2),E=j[0],D=j[1],R=(0,k.Z)(),M=(0,i.useSelector)((function(e){return e.session})),N=M.userAgentPlatform,z=M.locale,H=(0,i.useSelector)((function(e){var n=e.session;return e.users[n.userId]})),F=function(){(0,T.j)({event_type:1701,view_type:x,view_parameter:_}),E&&D(!1)};return(0,v.jsxs)(g.xu,{"data-test-id":"deeplink-wrapper",children:[E&&(0,v.jsx)(o.Z,{within:"deep-link-app-upsell-modal",children:function(e){var n=e.handleOpenApp;return(0,v.jsx)(a.Z,{clientTrackingParams:p,isOpen:!0,onDismiss:function(){},onOpenInApp:function(){(0,I.Nh)("deeplinkBehavior","branchfallback"),n({deepLinkUri:f}),F()},shouldTrackDismiss:!0,to:b,viewParameter:_,viewType:x})}}),(0,v.jsx)(u.Z,{children:function(t){return(0,v.jsx)(e,L(L({},s),{},{onTouch:function(e){var r=w&&!l&&R&&!m&&!y&&!(0,O.FP)(window)&&!("ios"===N&&(z||"").startsWith("ar"))&&(0,S.kp)((0,c.Z)(H));r?(e.stopPropagation(),e.preventDefault(),D(!0)):"branchfallback"!==(0,I.qn)("deeplinkBehavior")||(0,C.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,C.Nh)("fallbackAttempt",1),t(f,"".concat(window.location.origin).concat(B(b))),F()),n&&r||!h||h(e)},children:d}))}})]})}},N=M(y),z=M(j),H=M(l.Z,!0)},405658:function(e,n,t){"use strict";t.d(n,{Z:function(){return j}});var r=t(762782),i=t(71445),o=t(498177);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u="http://play.google.com/store/apps/details?id=com.pinterest",c=["access_token","new_password","new_password_confirm","password","next"],s=function(e,n){return n?(0,o.ru)(e,{invite_code:n}):e},d=function(e,n,t){if("ios"===n&&"string"==typeof e&&e.startsWith("discover/article/")){var r=e.split("/")[2];e="discover_article/".concat(r,"/?is_deeplink=1")}return"string"==typeof e&&e.startsWith("tv/")&&(e=e.replace(/^tv\//,"live-session/")),"string"==typeof e?s(e,t):"ios"===n||"ipad"===n?s(e.iOS,t):"android"===n?s(e.android,t):null},p=function(e){var n=e.deeplinkUri,t=e.invite_code,r=e.platform,i=e.fallbackUrl,u=e.unauthId;return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({deeplink_path:d(n,r,t),current_page_url:(0,o.Gw)("undefined"!=typeof window?window.location.href:"",c),install_id:u,utm_source:140,utm_medium:2152},i?{af_r:i}:null)},f=function(e){var n=e.deeplinkUri,t=e.fallbackUrl,r=e.invite_code,a=e.platform,l=e.redirectToLite,s=e.unauthId,f=e.userAgent;if(n){var m=p({deeplinkUri:n,fallbackUrl:t,invite_code:r,platform:a,unauthId:s,userAgent:f});if(i.Z.increment("mweb.deeplink",1,{platform:a}),r&&i.Z.increment("mweb.deeplink.invite_code",1),i.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(s)}),l){i.Z.increment("mweb.deeplink.lite_link",1);var h=function(e){var n=e.unauthId,t=(0,o.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:n});return{referrer:encodeURI(t)}}({unauthId:s});window.location.href=(0,o.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",h)}else if("android"===a){var g=function(e){var n=e.deeplinkUri,t=e.invite_code,r=e.platform,i=e.unauthId,a=JSON.stringify({deeplink_path:d(n,r,t),current_page_url:(0,o.Gw)("undefined"!=typeof window?window.location.href:"",c),install_id:i});return{referrer:(0,o.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a})}}({deeplinkUri:n,invite_code:r,platform:a,unauthId:s});"getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((function(e){if(e.length>0){var n=(0,o.ru)(window.location.href,m);window.open(n)}else window.location.href=(0,o.ru)(u,g)})).catch(i.Z.increment("mweb_android.deeplink.playStore.error",1)):window.location.href=(0,o.ru)(u,g)}else{if(i.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===a&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,o.ru)("https://pinterest.com/pinterest-predicts",m));window.location.href=(0,o.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",m)}}},m=t(660727),h=t(347676),g=t(885949);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){b(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _(e,n,t,r,i,o,a){try{var l=e[o](a),u=l.value}catch(c){return void t(c)}l.done?n(u):Promise.resolve(u).then(r,i)}function x(e){var n=e.children,t=e.invite_code,i=(0,r.useSelector)((function(e){return e.session})),o=i.userAgentPlatform,a=i.unauthId,l=i.userAgent;return n(function(){var e,n=(e=regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f({deeplinkUri:n,fallbackUrl:r,invite_code:t,platform:o,redirectToLite:(0,h.Rp)({platform:o,userAgent:l}),unauthId:a,userAgent:l});case 1:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){_(o,r,i,a,l,"next",e)}function l(e){_(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e,t){return n.apply(this,arguments)}}())}var w=function(e){return(0,g.jsx)(m.ty,{children:function(n){return(0,g.jsx)(x,y(y({},e),{},{invite_code:n}))}})};w.displayName="DeepLinkNavigator";var j=w},89806:function(e,n,t){"use strict";t.d(n,{Z:function(){return Le},K:function(){return ke}});var r=t(32425),i=t(762782),o=t(53930),a=t(716975),l=t(749050),u=t(230555),c=t(414021),s=t(397529),d=t(584230),p=t(899695),f=t(766279),m=t(156575),h=t(229687),g=t(146846),v=t(885949);function y(e){var n=e.maxRating,t=e.rating,i=e.text;return(0,v.jsxs)(g.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,v.jsx)(h.Z,{max_rating:n||"",rating:t||"",width:10}),i&&(0,v.jsx)(r.Fragment,{children:(0,v.jsx)(g.xu,{marginStart:1,overflow:"hidden",children:(0,v.jsx)(g.xv,{size:"sm",lineClamp:1,children:i})})})]})}var b=t(710159),_=t(911439),x=t(458552),w=function(e){var n,t=e.pinId,o=(0,b.ZP)(),a=(0,i.useSelector)((function(e){return e.pins}))[t];if(!a)return null;var l=(0,x.Fi)({i18n:o,pin:a,useGridTitleOrRichSummary:!1}).pinProduct;if(!l||!l.price)return null;var u=l.standard_price||l.price,c=l.min_price||"",s=l.max_price||"",d=l.in_stock||!1,p=null===(n=a.rich_summary)||void 0===n?void 0:n.site_name,f=(0,_.Yc)()?"white":"darkGray",m=d?f:"gray";return(0,v.jsxs)(r.Fragment,{children:[p&&(0,v.jsx)(g.xv,{color:f,size:"sm",children:p}),(0,v.jsxs)(g.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:[c&&s?(0,v.jsxs)(g.xv,{size:"sm",color:m,children:[c," - ",s]}):(0,v.jsx)(g.xv,{size:"sm",color:m,children:u}),!d&&(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(g.xu,{paddingX:1,children:(0,v.jsx)(g.xv,{size:"sm",color:m,children:"·"})}),(0,v.jsx)(g.xv,{size:"sm",color:m,children:o._("Out of stock","pinCard.priceLego.outOfStock","display if a product is out of stock")})]})]})]})},j=t(741874),P=t(528410),k=t(371974),O=t(707169),S=t(198611),T=t(571154),I=t(260259),C=t(740049),A=t(907683);function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function L(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){D(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function D(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var Z=(0,r.lazy)((function(){return t.e(11266).then(t.bind(t,911266))})),R=function(e){var n=e.title,t=(0,k.ZP)();return(0,v.jsx)(g.iP,{onTap:function(){(0,C.LW)({action:"click",page:"pin",item:"related-pins-title"})},children:(0,v.jsx)(g.xv,{size:"desktop"===t?"lg":"sm",weight:"bold",children:n})})},U=function(e){var n,t,a,l=e.allowPriceIndicator,u=e.contextMenu,c=e.credits,s=e.description,d=e.hasAffiliatedProducts,f=e.isHubFeed,h=e.isPromotedPin,_=e.isSponsoredPin,x=e.isSquarePin,E=e.marginTop,D=e.marginStart,U=e.marginEnd,B=e.onCreditsClick,M=e.pinDescription,N=e.pinId,z=e.pinnedToBoardId,H=e.pinReactionCounts,F=e.recipeCookTime,W=e.recipeMaxRating,G=e.recipeRating,q=e.recipeReviewCount,Y=e.shouldShowReactions,X=e.style,V=void 0===X?"default":X,J=e.title,$=e.type,K=(0,b.ZP)(),Q=(0,I.TH)(),ee=(0,i.useSelector)((function(e){return e.session.isAuthenticated})),ne=(0,k.ZP)(),te=J||s||"oneTap"===$,re=(0,i.useSelector)((function(e){return e.pins[N]})),ie=(0,i.useSelector)((function(e){return e.boards[z||re&&re.board]})),oe=(0,i.useSelector)((function(e){var n=e.users;return re&&re.pinner&&n[re.pinner]})),ae=h&&re.promoter===re.native_creator,le=re.sponsorship?(0,v.jsx)(g.xv,{inline:!0,color:"darkGray",size:"sm",weight:"bold",children:null==c?void 0:c.subtitle}):void 0,ue="overlay"===V,ce=Y&&H&&Object.keys(H).length>0&&(0,v.jsx)(g.xu,{height:18,display:ue?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(o.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,v.jsx)(j.Z,{children:(0,v.jsx)(Z,{pinReactionCounts:H})})})});return(0,v.jsx)(r.Fragment,{children:(0,v.jsxs)(g.xu,{display:"flex",height:x?l?104:72:void 0,marginEnd:U||1,marginStart:D||1,position:"relative",children:[(0,v.jsxs)(g.xu,{flex:"grow",children:[(0,v.jsx)(g.xu,{display:"flex",marginTop:E||1,children:(0,v.jsx)(g.xu,{flex:"grow",children:(0,v.jsxs)(r.Fragment,{children:[(0,v.jsxs)(r.Fragment,{children:[(_||d)&&!ae&&(0,v.jsx)(g.xu,{marginBottom:1,children:(0,v.jsx)(g.xu,{flex:"grow",overflow:"hidden",children:(0,v.jsx)(P.Z,{hasAffiliatedProducts:d,isPromoted:h,sponsorName:le,sponsorshipStatus:null===(n=re.sponsorship)||void 0===n?void 0:n.status})})}),J&&!f&&(0,v.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:(0,v.jsx)(R,{title:J})}),"desktop"===ne&&!ee&&M&&!(0,A.$Y)(Q)&&(0,v.jsx)(g.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,v.jsx)(g.iP,{onTap:function(){(0,C.LW)({action:"click",page:"pin",item:"related-pins-description"})},children:(0,v.jsx)(g.xv,{size:"sm",inline:!0,children:M})})})]}),l&&(0,v.jsx)(w,{credits:c,pinId:N}),"recipe"===$&&!!q&&(0,v.jsx)(r.Fragment,{children:(0,v.jsxs)(g.xu,{alignItems:"center",display:"flex",marginTop:1,children:[!!q&&(0,v.jsx)(y,{maxRating:W||"",rating:G||"",text:""}),!!F&&(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(g.xu,{paddingX:1,children:(0,v.jsx)(g.xv,{size:"sm",children:"·"})}),(0,v.jsx)(g.xv,{size:"sm",children:(0,S.IS)(L(L({},(0,T.u)(F)),{},{i18n:K}))})]})]})})]})})}),!ue&&ce,c&&(0,v.jsx)(p.Z,{onTouch:function(e){return B&&B(e)},pressState:"none",children:(0,v.jsxs)(g.xu,{display:"flex",marginTop:ue?-9:E||(te?1:0),position:"relative",direction:ue?"column":"row",children:[(0,v.jsx)(g.xu,{flex:"none",display:ue?"flex":void 0,justifyContent:"center",children:(0,v.jsx)(g.iP,{onTap:function(){(0,C.LW)({action:"click",page:"pin",item:"related-pins-avatar-image"})},children:(0,v.jsx)(m.Z,{name:c.title||"",outline:ue,size:ue?"lg":"sm",src:ue&&c.largeAvatar||c.mediumAvatar||c.avatar||void 0})})}),(0,v.jsxs)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",alignItems:ue?"center":void 0,marginStart:1,marginTop:2,children:[c.title&&(0,v.jsx)(g.xv,{lineClamp:1,size:"sm",weight:_&&!ae||d?"normal":"bold",children:c.title===(null==oe?void 0:oe.full_name)&&(null!=oe&&oe.is_verified_merchant||null!=oe&&null!==(t=oe.verified_identity)&&void 0!==t&&t.verified)?(0,v.jsx)(O.Z,{badgeSize:"sm",badgeSpacing:2,fullName:c.title,verifiedType:oe.is_verified_merchant?"verifiedMerchant":"verifiedIdentity"}):c.title}),c.subtitle?(!_||ae)&&(0,v.jsx)(g.xv,{lineClamp:_||d?void 0:1,size:"desktop"===ne?"md":"sm",weight:f||"desktop"===ne?"bold":"normal",children:c.subtitle}):ee?null:(0,v.jsx)(g.rU,{hoverStyle:"underline",href:ie.url,onClick:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),n.stopPropagation(),(0,C.NC)("click_board_pin_attribution_profile")},children:(0,v.jsx)(g.xv,{size:"md",children:ie.name})})]})]})}),!c&&"desktop"===ne&&!!oe&&((0,A.L6)(Q)||(0,A.cD)(Q)||(0,A.$Y)(Q))&&(0,v.jsxs)(g.xu,{display:"flex",marginTop:te?2:0,children:[(0,v.jsx)(g.xu,{flex:"none",children:(0,v.jsx)(g.iP,{onTap:function(){(0,C.LW)({action:"click",page:"pin",item:"related-pins-avatar-image"})},children:(0,v.jsx)(m.Z,{name:oe.username||"",size:"sm",src:null!==(a=oe.image_small_url)&&void 0!==a?a:void 0})})}),(0,v.jsxs)(g.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,children:[(0,v.jsx)(g.rU,{hoverStyle:"underline",href:"/".concat(oe.username,"/"),onClick:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),n.stopPropagation(),(0,C.NC)("click_board_pin_attribution_board")},children:(0,v.jsx)(g.xv,{size:"md",weight:"bold",children:oe.full_name||oe.username})}),(0,v.jsx)(g.rU,{hoverStyle:"underline",href:ie.url,onClick:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),n.stopPropagation(),(0,C.NC)("click_board_pin_attribution_profile")},children:(0,v.jsx)(g.xv,{size:"md",children:ie.name})})]})]}),ue&&ce]}),(0,v.jsx)(g.xu,{position:ue?"absolute":void 0,right:!0,children:u})]})})},B=t(958131),M=t(123686),N=(0,r.lazy)((function(){return t.e(37227).then(t.bind(t,137227))})),z=function(e){var n=e.inviteCode,t=(0,b.ZP)();return(0,v.jsx)(g.xu,{minHeight:82,children:(0,v.jsx)(o.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,v.jsx)(j.Z,{fallback:(0,v.jsx)(B.Z,{accessibilityLabel:t._("Loading Invitation component","Loading InviteFetch component","loading InviteFetch component")}),children:(0,v.jsx)(N,{invite_code:n,children:function(e){var n=e?e.sender:null,r=n&&n.first_name?n.first_name.substring(0,30):"";if(!r)return null;var i=n&&!n.is_default_image?n.image_medium_url:"",o=(0,M.nk)(t._("{{ name }} shared this idea with you","homefeed.pinSenderAvatar.heading","header notifying users that a sender ({{ name }}) shared a Pin to them"),{name:r});return(0,v.jsxs)(g.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,v.jsx)(g.zd,{height:32,width:32,children:(0,v.jsx)(m.Z,{name:r,src:i})}),(0,v.jsx)(g.xu,{width:"80%",paddingY:2,children:(0,v.jsx)(g.xv,{align:"center",size:"md",weight:"bold",children:o})})]})}})})})})},H=t(291595),F=t(586419),W=t(827929);function G(e){var n=e.pin,t=e.board,r=e.pinner;return(0,v.jsxs)(g.xu,{paddingX:2,marginBottom:3,display:"flex",children:[(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"3"}},flex:"grow",maxHeight:48,minHeight:12,overflow:"hidden",width:142,children:(0,v.jsx)(g.xv,{size:"sm",weight:"bold",children:(0,W.fs)(n)||n.description})}),(0,v.jsx)(g.xu,{children:(0,v.jsx)(F.Z,{pin:n,board:t,pinner:r})})]})}var q=t(37487),Y=t(84739),X=t(355247),V=t(117167),J=t(175429),$=t(414229),K=t(476891),Q=t(656831),ee=t(24391),ne=t(834375);function te(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function re(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?te(Object(t),!0).forEach((function(n){ie(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):te(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ie(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function oe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return ae(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ae(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var le={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:1,transition:"opacity 1s ease"}},ue=function(e,n,t){return(0,v.jsx)(g.xv,{color:"white",inline:!0,size:"md",weight:"bold",children:(0,v.jsx)(g.rU,{inline:!0,href:n,tapStyle:"none",children:t})},e)};function ce(e){var n=e.color,t=e.getFeedbackText,i=e.onUnfollow,o=e.showing,a=e.unfollowed,l=(0,b.ZP)(),u=oe((0,r.useState)(o?"fadeIn":"initial"),2),c=u[0],s=u[1],d=(0,r.useRef)(null);(0,r.useEffect)((function(){return"initial"===c&&o&&(d.current=window.requestAnimationFrame((function(){return s("fadeIn")}))),function(){d.current&&window.cancelAnimationFrame(d.current)}}),[c,s,o]);var p=t(ue),f=p.subTitle,m=p.title,h=p.unfollow,y=m,_=f;h&&a&&(y=h.title,_=h.subTitle);return o&&(0,v.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:re({backgroundColor:n},le[c])},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,v.jsx)(g.xu,{width:"100%",height:"100%",color:"darkGray",rounding:4,overflow:"auto",children:(0,v.jsxs)(g.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,v.jsxs)(g.xu,{children:[(0,v.jsx)(g.X6,{size:"sm",color:"white",children:y}),_&&(0,v.jsxs)(g.xu,{marginTop:1,children:[(0,v.jsx)(g.xv,{color:"white",size:"md",inline:!0,children:_}),(0,v.jsx)(g.xv,{color:"white",inline:!0,size:"md",weight:"bold",children:(0,v.jsx)(g.rU,{href:"/edit",inline:!0,rounding:2,tapStyle:"none",children:l._("Tune your home feed","Text on the button to navigate to homefeed control","Text on the button to navigate to homefeed control")})})]})]}),!a&&h&&(0,v.jsx)(g.xu,{paddingY:1,children:(0,v.jsx)(g.zx,{fullWidth:!0,color:"white",text:l._("Unfollow","Text on the button to unfollow a specific board / user","Text on the button to unfollow a specific board / user"),onClick:function(){return h?(0,ne.t)(h.action,h.actionOptions,i):void 0}})})]})})})}var se=t(112978),de=t(532180),pe=t(979596),fe=t(477783);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ge(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?he(Object(t),!0).forEach((function(n){Pe(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):he(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ve(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ye(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,n){return(be=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function _e(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=je(e);if(n){var i=je(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return xe(this,t)}}function xe(e,n){if(n&&("object"===me(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return we(e)}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ke=function(e){return e.isDesktop?0:1},Oe=function(e){return Boolean(e.is_eligible_for_web_closeup)},Se=function(e){return Boolean(e.promoter&&!e.is_downstream_promotion)},Te={width:1,height:1,url:""},Ie=function(e){var n=e.attribution,t=e.embed,r=e.is_eligible_for_web_closeup,i=e.rich_summary,o=e.videos,a=e.story_pin_data_id,l=t||n&&n.embed;return r?"oneTap":o||l&&"video"===l.type?"video":l&&"gif"===l.type?"gif":i&&"product"===i.type_name?"product":i&&"recipe"===i.type_name?"recipe":a?"storyPin":"image"},Ce=function(e){if("video"===Ie(e)&&e.videos&&e.videos.video_list){var n=(e.videos.video_list[Object.keys(e.videos.video_list)[0]]||{}).duration,t=void 0===n?0:n;return(0,f.Z)(t)}return""},Ae=(0,r.lazy)((function(){return t.e(97741).then(t.bind(t,197741))})),Ee=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&be(e,n)}(f,e);var n,t,r,i=_e(f);function f(){var e;ve(this,f);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return Pe(we(e=i.call.apply(i,[this].concat(t))),"state",{startImpressionTimer:!1}),Pe(we(e),"getPinImage",(function(){var n,t=e.props,r=t.pin,i=t.isSquarePin,o=t.shouldLimitResolution;if(!r||!r.images)return Te;if(o&&r.images["170x"])return r.images["170x"];if(i)return{height:136,url:null===(n=r.images["236x"])||void 0===n?void 0:n.url,width:136};for(var a=0,l=["236x","170x","136x136","736x","474x","orig"];a<l.length;a++){var u=l[a];if(r.images[u]&&r.images[u].url)return r.images[u]}return Te})),Pe(we(e),"getImpressionData",(function(){var n,t,r=e.props.pin,i=null===(n=r.videos)||void 0===n||null===(t=n.video_list)||void 0===t?void 0:t.V_720P,o=i?{isNativeVideoAndWatchable:!!(i&&i.url&&i.height&&i.width)||void 0,videoIdStr:i&&r.videos?r.videos.id:void 0}:{},a=e.getPinImage();return ge(ge({richTypes:r.shopping_flags||[],imageURL:a.url||""},o),e.props.impressionData)})),Pe(we(e),"getAuxData",(function(){var n=e.props,t=n.auxData,r=void 0===t?{}:t,i=n.pin,o=n.pwaType;return ge({commerce_data:(0,l.Z)(i),pwa_type:o},r)})),Pe(we(e),"getFeedbackType",(function(){var n=e.props,t=n.board,r=n.feedback,i=n.viewParameter,o=n.pin,a=n.pinner;return e.feedbackHelpers.getFeedbackType({board:t,feedback:r,viewParameter:i,pin:o,pinner:a})})),Pe(we(e),"getRecommendationDescription",(function(n){var t=e.props,r=t.board,i=t.pinner,o=t.promoter,a=t.pin;return e.feedbackHelpers.getRecommendationDescription({ad_match_reason:a.ad_match_reason,board:r,feedbackType:e.getFeedbackType(),makeNavigateLink:n,pinner:i,promoter:o,recommendationReason:a.recommendation_reason,sourceInterest:a.source_interest})})),Pe(we(e),"getPinHiddenFeedbackText",(function(n){var t=e.props,r=t.board,i=t.pin,o=t.pinner,a=t.promoter,l=e.feedbackHelpers.getUnfollowAction({board:r,feedbackType:e.getFeedbackType(),makeNavigateLink:n,pinner:o,sourceInterest:i.source_interest});return Se(i)&&a.full_name?{title:"",subTitle:(0,M.nk)(e.props.i18n._("{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.","pinRep.promotedPinfeedbackText.subtitle","message displayed after hiding a promoted pin"),{promoter:a.full_name})}:l?{title:e.props.i18n._("Pin hidden","message displayed after hiding a pin","message displayed after hiding a pin"),subTitle:e.getRecommendationDescription(n),unfollow:l}:{title:e.props.i18n._("Pin hidden","message displayed after hiding a pin","message displayed after hiding a pin"),subTitle:e.props.i18n._("Got it! We'll try to show you more relevant Pins in the future.","message displayed after hiding a pin","message displayed after hiding a pin")}})),Pe(we(e),"feedbackHelpers",(0,a.ZP)({i18n:e.props.i18n,interpolateNamedTemplate:M.nk})),Pe(we(e),"logOneTap",(function(){var n=e.props,t=n.pin,r=n.trackingParams,i=n.viewType,o=n.viewParameter,a=n.auxData,u=(0,c.Z)(r,t.tracking_params),s={view_type:e.props.viewType,view_parameter:e.props.viewParameter,element:35,component:e.props.componentType,object_id_str:t.id,aux_data:ge({commerce_data:(0,l.Z)(t),grid_index:e.props.slotIndex,image_signature:t.image_signature},e.props.auxData),clientTrackingParams:u};(0,fe.j)({event_type:8948,view_type:i,view_parameter:o,object_id_str:t.id,clientTrackingParams:u,aux_data:ge({image_signature:t.image_signature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2"},a)}),(0,fe.jC)(s),(0,fe.j)({component:e.props.componentType,event_type:13,view_type:3,clientTrackingParams:u,aux_data:{closeup_navigation_type:"web_closeup",image_signature:t.image_signature},object_id_str:t.id})})),Pe(we(e),"markPinAsSeen",(function(){return e.props.markPinAsSeen(e.props.pinId)})),Pe(we(e),"handleLoad",(function(){e.setState({startImpressionTimer:!0})})),Pe(we(e),"handleError",(function(){e.setState({startImpressionTimer:!1})})),Pe(we(e),"handleClick",(function(n){var t=e.props,r=t.auxData,i=t.componentType,o=t.deviceType,a=t.pin,u=t.slotIndex,s=t.trackingParams,d=t.viewParameter,p=t.viewType,f=t.onPinClick,m=t.isAuth,h=t.unauthDesktopSignupModalPageContext,g=function(e){return(0,C.My)("unauth_pin_rep.".concat(e,".").concat(String(d)))};if(g("click"),(0,fe.ob)({view_type:p,view_parameter:d,element:35,component:i,object_id_str:a.id,clientTrackingParams:(0,c.Z)(s,a.tracking_params),aux_data:ge({commerce_data:(0,l.Z)(a),grid_index:u,image_signature:a.image_signature},r)}),Oe(a)||(0,fe.j)({event_type:8948,view_type:p,view_parameter:d,object_id_str:a.id,clientTrackingParams:(0,c.Z)(s,a.tracking_params),aux_data:ge({image_signature:a.image_signature,commerce_data:(0,l.Z)(a),closeup_navigation_type:"click",grid_index:u,cosmic_ray_count:"3"},r)}),!m)switch(p){case 3:(0,C.NC)("click_pin_related_image"),(0,C.LW)({action:"click",item:"pin",page:"pin"});break;case 5:(0,C.NC)("click_board_pin_image"),(0,C.LW)({action:"click",item:"pin",page:"board"});break;case 210:(0,C.NC)("click_topic_pin_image"),(0,C.LW)({action:"click",item:"pin",page:"topic"})}if(Oe(a)&&e.logOneTap(),f&&f(),"desktop"===o)if(n.metaKey)g("click.cmd_button_pressed"),n.preventDefault(),window.open("/pin/".concat(a.id,"/"),"_blank").focus();else if(!m&&h){(0,h.pinImageClickHandler)({event:n,pin:a,linkTarget:"duploClientNav"})}})),Pe(we(e),"handleCreditsClick",(function(n){var t,r=e.props,i=r.history,o=r.pin,a=o.id,l=o.sponsorship,u=o.story_pin_data_id,c=l||{},s=c.creator,d=c.sponsor,p=(s||{}).id,f=(d||{}).id,m=!!u;n.stopPropagation(),n.preventDefault();var h=null===(t=e.getCredits())||void 0===t?void 0:t.link;h&&i.push(h),(0,fe.So)({view_type:3,element:27,object_id_str:a,component:m?230:void 0,aux_data:ge({pin_id:a},p&&f?{creator_id:p,sponsor_id:f}:{})})})),Pe(we(e),"handleUnfollowPin",(function(){return e.props.markPinUnfollowed(e.props.pin.id)})),Pe(we(e),"handlePinSend",(function(n){n&&n.stopPropagation&&n.stopPropagation();var t=e.props,r=t.pin,i=t.board,o=t.setSharingOnBoardPage;i&&r&&o&&i.isSocialSeasonalBoard&&o(!0,"pin",r.id)})),Pe(we(e),"isOverrideImageOnly",(function(){var n=e.props,t=n.pin.rich_summary,r=n.viewer,i=n.viewParameter,o=3375===i;return t&&43===i&&!(0,d.Z)(r)||o})),Pe(we(e),"convertToGif",(function(e){var n=Math.max(e.embed&&e.embed.width||0,236),t=Math.max(e.embed&&e.embed.height||0,236);return{url:e.embed?e.embed.src:"",width:n,height:t}})),e}return n=f,(t=[{key:"componentDidMount",value:function(){var e=this.props,n=e.isAuth,t=e.slotIndex,r=e.pin,i=e.viewParameter,o=e.location;if(!n&&0===t&&3070===i){var a=o.pathname;(0,X.H$)(a,r)}}},{key:"getIsClaimedContent",value:function(){var e,n,t=this.props,r=t.pin;return 3375===t.viewParameter&&!(null===(e=r.link_domain)||void 0===e||null===(n=e.official_user)||void 0===n||!n.is_primary_website_verified)}},{key:"getCredits",value:function(){var e=this.props,n=e.board,t=e.nativeCreator,r=e.pin,i=e.pinner,o=e.promoter,a=e.storyPin,l=e.viewParameter,u=null==a?void 0:a.has_product_pins,c=0===l,s=3475===l,d=3173===l,p=3375===l,f=this.getIsClaimedContent(),m=!!r.native_creator,h=Se(r),g=r.sponsorship,v=g||{},y=v.creator,b=v.sponsor,_=h&&!!g&&o.id!==t.id,x=!!g&&y;if(h||x||c||d||m||f)switch(_?"PROMOTED_SPONSORED":h?"PROMOTED":x?"SPONSORED":m?"AFFILIATED_PRODUCTS":u?"NATIVE_CONTENT":f?"CLAIMED_CONTENT":n&&"protected"===n.privacy?"SAVED_BY":"DEFAULT"){case"PROMOTED_SPONSORED":return{title:t.full_name,subtitle:o.full_name,avatar:this.getPinnerImage(t.image_small_url),mediumAvatar:this.getPinnerImage(t.image_medium_url),largeAvatar:this.getPinnerImage(t.image_large_url),link:"/".concat(t.username,"/")};case"PROMOTED":return{title:this.props.i18n._("Promoted by","Grid pin annotation","Grid pin annotation"),subtitle:o.full_name,avatar:this.getPinnerImage(o.image_small_url),mediumAvatar:this.getPinnerImage(o.image_medium_url),largeAvatar:this.getPinnerImage(o.image_large_url),link:"/".concat(o.username,"/")};case"SPONSORED":if(!g)throw new Error("sponsorship doesn't exist when expected");return{title:t.full_name,subtitle:null==b?void 0:b.full_name,avatar:this.getPinnerImage(t.image_small_url),mediumAvatar:this.getPinnerImage(t.image_medium_url),largeAvatar:this.getPinnerImage(t.image_large_url),link:"/".concat(t.username,"/")};case"AFFILIATED_PRODUCTS":return{title:t.full_name,subtitle:"",avatar:this.getPinnerImage(t.image_small_url),mediumAvatar:this.getPinnerImage(t.image_medium_url),largeAvatar:this.getPinnerImage(t.image_large_url),link:"/".concat(t.username,"/")};case"NATIVE_CONTENT":var w=(null==n?void 0:n.url)||"/pin/".concat(r.id,"/");return(p||s)&&(w="/".concat(t.username,"/")),{title:s?this.props.i18n._("Created by","created by label for story pins","created by label for story pins"):"",subtitle:t.full_name,avatar:this.getPinnerImage(t.image_small_url),mediumAvatar:this.getPinnerImage(t.image_medium_url),largeAvatar:this.getPinnerImage(t.image_large_url),link:w};case"CLAIMED_CONTENT":var j=(r.link_domain||{}).official_user;return j?{subtitle:j.full_name,avatar:this.getPinnerImage(j.image_small_url),mediumAvatar:this.getPinnerImage(j.image_medium_url),largeAvatar:this.getPinnerImage(j.image_large_url),link:j.username?"/".concat(j.username,"/"):""}:void 0;case"SAVED_BY":return{title:this.props.i18n._("Saved by","Grid pin annotation","Grid pin annotation"),subtitle:"",avatar:this.getPinnerImage(null==i?void 0:i.image_small_url),mediumAvatar:this.getPinnerImage(null==i?void 0:i.image_medium_url),largeAvatar:this.getPinnerImage(null==i?void 0:i.image_large_url),link:(null==n?void 0:n.url)||"/pin/".concat(r.id,"/")};default:return{title:(null==i?void 0:i.full_name)||"",subtitle:"",avatar:this.getPinnerImage(null==i?void 0:i.image_small_url),mediumAvatar:this.getPinnerImage(null==i?void 0:i.image_medium_url),largeAvatar:this.getPinnerImage(null==i?void 0:i.image_large_url),link:(null==n?void 0:n.url)||"/pin/".concat(r.id,"/")}}}},{key:"getSharedHeaderInviteCode",value:function(){var e,n=this.props,t=n.viewParameter,r=n.viewedSharedPins,i=n.pinId;return 92===t?null===(e=r&&r[i])||void 0===e?void 0:e.inviteCode:void 0}},{key:"getPinnerImage",value:function(e){return e&&e.includes("/user/default")?void 0:e}},{key:"getPinText",value:function(){var e=this.props.pin,n=e.grid_title,t=e.rich_summary,r=e.description;return"string"==typeof n?{title:n,description:""}:{title:null==t?void 0:t.display_name,description:r}}},{key:"renderPinCard",value:function(){var e,n,t,r,i,a,l,d,f,m,h,y,b=this,_=this.props,x=_.activateSearchIdeaPinExperiment,w=_.activateBoardSemanticHtmlExp,P=_.activateUnauthPlpAltTextExp,k=_.activateUnauthBlpAltTextExp,O=_.board,S=_.country,T=_.disableAppUpsell,I=_.disablePinCardPadding,E=_.disableRounding,L=_.disableReaction,D=_.deviceType,Z=_.feedback,R=_.imageOnly,B=_.i18n,M=_.isAuth,N=_.isOneTapExploreLocalTab,F=_.isSquarePin,X=_.isImageOnlyExp,$=_.location,K=_.marginBottom,Q=_.marginStart,ee=_.marginEnd,ne=_.nativeCreator,te=_.onPinLinkClick,re=_.oneTapSave,ie=_.pin,oe=_.storyPin,ae=_.pinner,le=_.promoter,ue=_.pinCardDetailsMarginTop,se=_.slotIndex,de=_.trafficSource,pe=_.viewParameter,fe=_.viewType,me=_.showSeoMetadata,he=_.topLevelTrafficSource,ve=_.topLevelTrafficSourceDepth,ye=_.undoAction,be=_.undoActionOptions,_e=_.trackingParams,xe=_.vaseDisplayMode,we=_.onUnauthDesktopContextMenu,je=ie.aggregated_pin_data,Pe=ie.category,Te=ie.image_signature,Ee=ie.rich_summary,Le=ie.title,De=ie.sponsorship,Ze=this.getPinText(),Re=Ze.description,Ue=Ze.title,Be="desktop"===D,Me=Ie(ie),Ne=0===pe,ze=3475===pe,He=Se(ie),Fe=!!De,We=null==oe?void 0:oe.has_product_pins,Ge=null==oe?void 0:oe.is_deleted,qe=(0,c.Z)(($&&$.state||{}).trackingParams||_e,ie.tracking_params),Ye=X&&!this.isOverrideImageOnly(),Xe=O&&O.isSocialSeasonalBoard,Ve=this.getPinImage(),Je=Xe&&"gif"===Me?this.convertToGif(ie):Ve,$e=null===(e=ie.videos)||void 0===e||null===(n=e.video_list)||void 0===n?void 0:n.V_720P,Ke=(0,A.L6)($)&&ie.alt_text&&ie.alt_text.trim().length>0&&P().group||"",Qe=(0,A.am)($)&&ie.alt_text&&ie.alt_text.trim().length>0&&k()||"";if(ie.alt_text&&(Ke.startsWith("enabled_related_append")||Ke.startsWith("enabled_closeup_related_append")||Ke.startsWith("enabled_closeup_related_replace")))h=(0,W.hP)(null!==(y=ie.description)&&void 0!==y?y:"",ie.description_html||"",ie.pin_join,ie.alt_text||"",Ke.startsWith("enabled_closeup_related_replace"));else if(Qe&&Qe.anyEnabled){var en;h=(0,W.hP)(null!==(en=ie.description)&&void 0!==en?en:"",ie.description_html||"",ie.pin_join,ie.alt_text||"",Qe.group.startsWith("enabled_replace"))}else{var nn;h=(0,W.hP)(null!==(nn=ie.description)&&void 0!==nn?nn:"",ie.description_html||"",ie.pin_join)}var tn,rn=(0,W.eK)(ie).annotationsWithLinks,on=M?Re:(0,s.Z)(ie),an=!L&&(0,J.J6)(ie)&&!ze,ln=!M&&!!ie.story_pin_data_id&&!!ie.seo_url;tn=Oe(ie)?ie.tracked_link||ie.link:ln?ie.seo_url:"/pin/".concat(ie.id,"/");var un=!Re||Ye&&!Ne?void 0:Re.trim(),cn=this.getSharedHeaderInviteCode(),sn={country:S,deeplinkUri:ln?ie.seo_url:"pin/".concat(ie.id),external:Oe(ie),externalQueryParams:{pin:ie.id,client_tracking_params:_e},isAppUpsellDisabled:T,onTouch:this.handleClick,pinCategory:ie.category,pressState:"none",rounding:4,title:this.props.i18n._("See this Pin","App Upsell Text after clicking on Pin in feed","App Upsell Text after clicking on Pin in feed"),to:{pathname:tn,state:{trackingParams:_e,trafficSource:de,topLevelTrafficSource:he,topLevelTrafficSourceDepth:ve}},upsellType:"direct",viewParameter:pe,viewType:fe,clientTrackingParams:qe},dn=ke({isDesktop:Be}),pn=Object.keys(ne).length>0?ne:ae,fn="search"===de&&"storyPin"===Me&&x().anyEnabled,mn=!M&&w().anyEnabled,hn=mn&&w().group;return(0,v.jsxs)(g.xu,{as:"board"===de&&mn&&"enabled_role"!==hn?"figure":"div","data-test-id":"pin","data-test-pin-id":ie.id,marginBottom:K||(Be?0:2),marginEnd:mn?0:void 0,marginStart:mn?0:void 0,marginTop:mn?0:void 0,children:[(0,v.jsxs)(g.xu,{padding:I?0:dn,marginBottom:0,onContextMenu:pn?we(ie,pn):void 0,children:[(0,v.jsxs)(V.MZ,ge(ge({},sn),{},{children:[!!cn&&(0,v.jsx)(z,{inviteCode:cn}),Ge?(0,v.jsx)(q.Z,{isPinRep:!0}):(0,v.jsx)(H.Z,{clientTrackingParams:qe,color:null!==(t=ie.dominant_color)&&void 0!==t?t:"",description:un,domainLinkData:ie.domain&&ie.link?{clickLoggingOptions:{auxData:{objectId:ie.id,grid_index:se,sanitized_url:ie.link}},domain:ie.domain,link:ie.link,onClick:te}:void 0,disableRounding:E,hideBottomCardText:Xe,image:Je,imageAltText:h,imageCrop:ie.image_crop,isMessenger:Xe,isOneTapExploreLocalTab:N,isSquarePin:F,onError:this.handleError,oneTapSave:re,onLoad:this.handleLoad,pinId:ie.id,pinnedToBoardId:(null===(r=ie.pinned_to_board)||void 0===r?void 0:r.id)||"",pinVideo:Xe&&$e||void 0,slotIndex:se,storyData:oe,title:!Ye||Ne?Ue:void 0,type:Me,videoDuration:Ce(ie),viewType:fe})]})),(ze||!R&&(M||"desktop"===D)||"shop_feed_auth_and_unauth_mweb_override"===de)&&(0,v.jsxs)(g.xu,{children:["desktopParity"===xe&&rn&&(0,v.jsx)(Y.Z,{annotations:rn,mode:"inlineWithScrollArrows"}),(0,v.jsx)(V.MZ,ge(ge({},sn),{},{children:(0,v.jsx)(U,{allowPriceIndicator:["shop_feed","shop_feed_auth_and_unauth_mweb_override"].includes(de),marginTop:ue,contextMenu:M&&!Ge?(0,v.jsx)(g.xu,{marginStart:1,marginTop:ue,children:(0,v.jsx)(g.xu,{height:26,width:24,children:(0,v.jsx)(o.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,v.jsx)(j.Z,{children:(0,v.jsx)(Ae,{adMatchReason:ie.ad_match_reason,bestPinImgSrc:(0,u.Z)(ie),feedback:Z,feedbackType:this.getFeedbackType(),getRecommendationDescription:this.getRecommendationDescription,imageSignature:Te,pinCategory:Pe,pinDescription:on,pinId:ie.id,pinImgSrc:Je.url,pinTitle:Le,sourceType:He?"ad":Ne?"following":void 0,viewParameter:pe,viewType:fe,trackingParams:_e})})})})}):null,credits:this.getCredits(),description:un,hasAffiliatedProducts:We,isHubFeed:ze,isPromotedPin:He,isSponsoredPin:Fe,isSquarePin:F,marginStart:Q,marginEnd:ee,onCreditsClick:this.handleCreditsClick,pinDescription:on,pinId:ie.id,pinnedToBoardId:(null===(i=ie.pinned_to_board)||void 0===i?void 0:i.id)||"",pinReactionCounts:ie.reaction_counts,pinTagsChips:(je||{}).pin_tags_chips,promoterName:le.full_name,recipeCookTime:Ye?void 0:ie.rich_summary&&ie.rich_summary.display_cook_time,recipeMaxRating:Ye||null==Ee||null===(a=Ee.aggregate_rating)||void 0===a?void 0:a.best_rating,recipeRating:Ye||null==Ee||null===(l=Ee.aggregate_rating)||void 0===l?void 0:l.rating_value,recipeReviewCount:Ye||null==Ee||null===(d=Ee.aggregate_rating)||void 0===d?void 0:d.review_count,shouldShowReactions:an,style:fn?"overlay":"default",title:fn?void 0:Ue,type:Me})}))]})]}),(null==O?void 0:O.isSocialSeasonalBoard)&&M&&(0,v.jsx)(g.xu,{color:"lightGray",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:-2,position:"relative",rounding:2,width:"90%",children:(0,v.jsx)(p.Z,{onTouch:this.handlePinSend,pressState:"none",rounding:2,children:(0,v.jsx)(g.xu,{padding:3,children:(0,v.jsx)(g.xv,{align:"center",weight:"bold",children:B._("Send"," - "," -- ")})})})}),"reported"===ie.feedback_status?(0,v.jsx)(ce,{color:null!==(f=ie.dominant_color)&&void 0!==f?f:"",getFeedbackText:function(){return{title:b.props.i18n._("Reported","message displayed after reporting a pin","message displayed after reporting a pin"),subTitle:b.props.i18n._("Thanks! Your feedback helps us keep the Pinterest community safe.","message displayed after reporting a pin","message displayed after reporting a pin")}},pinId:ie.id,showing:!!ie.feedback_status}):(0,v.jsx)(ce,{color:null!==(m=ie.dominant_color)&&void 0!==m?m:"",getFeedbackText:this.getPinHiddenFeedbackText,onUnfollow:this.handleUnfollowPin,pinId:ie.id,showing:!!ie.feedback_status,undoAction:ye,undoActionOptions:be,unfollowed:"unfollowed"===ie.feedback_status,viewParameter:pe,viewType:fe}),me&&"inlineHidden"===xe&&(0,v.jsx)(g.iP,{onTap:function(){(0,C.LW)({action:"click",page:"pin",item:"related-pins-title"})},fullWidth:!1,children:(0,v.jsx)(G,{pin:ie,board:O,pinner:ae})})]})}},{key:"render",value:function(){var e=this,n=this.props,t=n.componentType,r=n.pin,i=n.trackingParams,o=n.viewParameter,a=n.viewType,l=n.slotIndex,u=n.objectIdStr,c=n.viewData,s=this.state.startImpressionTimer;return r?(0,v.jsx)($.dL,{auxData:this.getAuxData(),component:t,impressionData:this.getImpressionData(),isPaused:!s,loggingId:r.id,objectIdStr:u,onTracked:this.markPinAsSeen,slotIndex:l,trackingParams:i,viewData:c,viewParameter:o,viewType:a,children:function(n){var t=n.impressionTrackerRef;return(0,v.jsx)(g.xu,{ref:t,children:e.renderPinCard()})}}):null}}])&&ye(n.prototype,t),r&&ye(n,r),f}(r.Component);var Le=(0,i.connect)((function(e,n){var t=e.boards,r=e.experiences,i=e.pins,o=e.session,a=e.users,l=e.storyPins,u=i[n.pinId]||null,c=u&&u.story_pin_data_id?l[u.story_pin_data_id]:void 0,s=r[1000107];return{board:u&&t[u.board],country:o.country,hasPoorConnection:o.hasPoorConnection,isAuth:o.isAuthenticated,isImageOnlyExp:s&&500678===s.experience_id,pin:u,storyPin:c,pinner:u&&a[u.pinner],promoter:null!=u&&u.promoter&&a[u.promoter]||{},undoAction:u&&u.undoAction,undoActionOptions:u&&u.undoActionOptions,viewer:a[o.userId],viewedSharedPins:o.viewedSharedPins,nativeCreator:null!=u&&u.native_creator&&a[u.native_creator]||{}}}),(function(e,n){var t=n.viewParameter,r=n.viewType;return{markPinAsSeen:function(n){return e((0,pe.DX)({pinId:n,viewParameter:t,viewType:r}))},markPinUnfollowed:function(n){return e((0,pe.fH)(n,"unfollowed"))},setSharingOnBoardPage:function(n,t,r){return e((0,K.Mj)(n,t,r))}}}))((function(e){var n=(0,b.ZP)(),t=(0,de.g)(),r=(0,se.tc)("mweb_web_android_ios_backend_clbc_display_controls"),i=(0,se.tc)("mweb_web_android_ios_clbc_eu_ad_string"),o=(0,se.tc)("mweb_search_ideapin_module"),a=(0,se.tc)("ff_board_semantic_html"),l=(0,se.tc)("unauth_plp_alt_text_field_ffe"),u=(0,se.tc)("unauth_blp_alt_text_field_ffe"),c=(0,k.ZP)(),s=(0,ee.B)(),d=(0,Q.yz)();return(0,v.jsx)(Ee,ge(ge({},e),{},{onUnauthDesktopContextMenu:s,deviceType:c,activateEUSponsorshipDisclosureExp:i,activateSponsorshipDisclosureExp:r,activateSearchIdeaPinExperiment:o,activateBoardSemanticHtmlExp:a,activateUnauthPlpAltTextExp:l,activateUnauthBlpAltTextExp:u,pwaType:d,unauthDesktopSignupModalPageContext:t,vaseDisplayMode:"desktop"===c?"desktopParity":"inlineHidden",i18n:n}))}))},291595:function(e,n,t){"use strict";t.d(n,{Z:function(){return q}});var r=t(32425),i=t(762782),o=t(824498),a=t(647136),l=t(5204),u=t(448906),c=t(819286),s=t(740049),d=t(710159),p=t(166371),f=t(146846),m=t(979596),h=t(397512),g=t(260259),v=t(358142),y=t(885949);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach((function(n){A(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(e,n,t,r,i,o,a){try{var l=e[o](a),u=l.value}catch(c){return void t(c)}l.done?n(u):Promise.resolve(u).then(r,i)}function j(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){w(o,r,i,a,l,"next",e)}function l(e){w(o,r,i,a,l,"throw",e)}a(void 0)}))}}function P(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function k(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,n){return(O=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function S(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=C(e);if(n){var i=C(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return T(this,t)}}function T(e,n){if(n&&("object"===b(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return I(e)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var E=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&O(e,n)}(u,e);var n,t,i,l=S(u);function u(){var e;P(this,u);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return A(I(e=l.call.apply(l,[this].concat(t))),"state",{saveState:void 0}),A(I(e),"legoFixedZIndex",new f.Ry(2)),A(I(e),"onAddPin",j(regeneratorRuntime.mark((function n(){var t,r,i,o,l,u,c,s,d,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.props,r=t.clientTrackingParams,i=t.dispatch,o=t.i18n,l=t.oneTapSave,u=t.pinId,c=t.pinnedToBoardId,s=t.showToast,d=t.viewType,n.prev=1,n.next=4,i((0,m.wh)({i18n:e.props.i18n,pinId:u,boardId:null==l?void 0:l.boardId,isOneTapSave:!0,onUndo:function(){e.onDeletePin()},section:null==l?void 0:l.section,showToast:s,trackingParams:{clientTrackingParams:r,pinnedToBoardId:c},viewType:d}));case 4:p=n.sent,e.setState({saveState:"saved"}),i((0,h.a)({boardId:null==l?void 0:l.boardId,localPinId:p.id,pinId:u})),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),s((function(e){var t=e.onHide;return(0,y.jsx)(a.ZP,{variant:"error",text:n.t0.message||o._("Sorry! Something went wrong on our end.","error during repin","error during repin"),onHide:t})})),e.setState({saveState:void 0});case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))),A(I(e),"onDeletePin",j(regeneratorRuntime.mark((function n(){var t,r,i,o,l,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.props,r=t.dispatch,i=t.i18n,o=t.pinId,l=t.savedInfo,u=t.showToast,l){n.next=3;break}return n.abrupt("return");case 3:return r((0,h.k)({boardId:l.boardId,localPinId:l.localPinId,pinId:o})),n.prev=4,n.next=7,r((0,m.q$)(l.localPinId,l.boardId));case 7:u((function(e){var n=e.onHide;return(0,y.jsx)(a.ZP,{text:i._("Pin deleted!","User deleted their pin","User deleted their pin"),onHide:n})})),e.setState({saveState:void 0}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(4),u((function(e){var n=e.onHide;return(0,y.jsx)(a.ZP,{variant:"error",text:i._("Sorry! There was an error deleting your Pin.","Error when user tried to delete pin","Error when user tried to delete pin"),onHide:n})})),e.setState({saveState:"saved"});case 15:case"end":return n.stop()}}),n,null,[[4,11]])})))),A(I(e),"handlePinAction",e.props.requireAuthForLimitedLogin({fn:function(n){var t=n.event;t.stopPropagation(),t.preventDefault();var r=e.state.saveState,i=e.props,o=i.history,a=i.pinId,l=i.isOneTapExploreLocalTab,u=i.pinnedToBoard;["saving","deleting"].includes(r)||l&&u||(r||e.props.savedInfo?e.props.isOneTapExploreLocalTab||(e.setState({saveState:"deleting"}),e.onDeletePin()):(e.setState({saveState:"saving"}),l?o.push({pathname:"/pin/".concat(a,"/repin"),state:{isOneTapSave:!0}}):e.onAddPin()))},modalHeader:(0,c.Bx)(e.props.i18n)})),A(I(e),"shouldDisplayAsSaved",(function(e){var n=e.isOneTapExploreLocalTab,t=e.pinnedToBoard,r=e.savedInfo;return n?!!t:!!r})),e}return n=u,(t=[{key:"render",value:function(){var e=this.props,n=e.children,t=e.clientTrackingParams,i=e.homepageExperience,a=e.i18n,l=e.isOneTapExploreLocalTab,u=e.isRTL,c=e.location,s=e.oneTapSave,d=e.pinId,p=e.pinnedToBoard,m=e.pinnedToBoardId,h=e.savedInfo,g=e.shouldShowSaveHandoffExp;if(!s&&!l&&!g)return n;var v=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:l,pinnedToBoard:p,savedInfo:h}),b="#000",_="rgba(255, 255, 255, 0.8)",x="white",w="darkGray";return(0,y.jsxs)(r.Fragment,{children:[n,(0,y.jsx)(f.xu,{bottom:!0,left:u,padding:2,position:"absolute",right:!u,zIndex:this.legoFixedZIndex,children:g?(0,y.jsx)(o.Z,{buttonText:!!p&&a._("Saved","OneTapSave.QuickSaveButton.Saved","Message on saved pin"),clientTrackingParams:t,color:p?"white":"red",deeplinkUri:"deeplinkUri",experience:i,inline:!0,pinnedToBoardId:m,minWidth:54,pinId:d,shape:"pill",shouldShowSavedButton:!!p,to:{pathname:"/pin/".concat(d,"/repin/"),state:{trackingParams:c.state?c.state.trackingParams:""}},showSaveHandoffExperience:g}):(0,y.jsx)(f.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,y.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:v?b:_}},padding:2,rounding:"circle",children:(0,y.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,y.jsx)(f.JO,{accessibilityLabel:v?a._("saved","checkmark icon to show pin has been saved","checkmark icon to show pin has been saved"):a._("save","button for saving quickly with one click","button for saving quickly with one click"),icon:v?"check":"add",color:v?x:w,size:"24"})})})})})]})}}])&&k(n.prototype,t),i&&k(n,i),u}(r.PureComponent);var L=(0,i.connect)((function(e,n){var t=n.pinId;return{savedInfo:e.pins[t]&&e.pins[t].savedInfo,pinnedToBoard:e.pins[t]&&e.pins[t].pinned_to_board,homepageExperience:e.experiences[40001]}}))((function(e){var n=(0,v.F9)().showToast,t=(0,d.ZP)(),o=(0,p.Z)(),a=(0,i.useDispatch)(),c=(0,g.k6)(),f=(0,g.TH)(),h=(0,i.useSelector)((function(e){return e.session})).isRTL,b=(0,i.useSelector)((function(e){return e.session.unauthSavePinId})),_=(0,i.useSelector)((function(e){return e.session.isAuthenticated})),w=(0,i.useSelector)((function(e){var n;return null===(n=(0,u.ts)(e))||void 0===n?void 0:n.pin_count})),j=_&&!!b&&b===e.pinId,P=(0,l.Z)(),k=P.pins,O=P.clear,S=(0,r.useRef)(!1);return(0,r.useEffect)((function(){_&&!S.current&&k.length>0&&(S.current=!0,k.forEach((function(e){var n=e.id;a((0,m.Bp)({history:c,i18n:t,onSuccess:function(){},pinId:n,trackingParams:{clientTrackingParams:"",pinnedToBoardId:""},showRepinConfirmation:function(){},disableRepinAnimation:!0,fromSaveButtonContainer:!1,setShowPostSaveConfetti:function(){},setShowPostSaveConfettiHalfScreen:function(){},pinCount:w,postSaveConfettiIsDisabled:!0})).catch((function(e){(0,s.My)("error.unauth_profile_pin_merge.".concat(e))}))})),O())})),(0,y.jsx)(E,x(x({},e),{},{i18n:t,requireAuthForLimitedLogin:o,history:c,location:f,showToast:n,shouldShowSaveHandoffExp:j,isRTL:h}))}));L.displayName="OneTapSave";var D=L,Z=t(819086),R=t(123686);function U(e){var n=e.boardUrl,t=e.boardName,r=e.isQuicksave,i=e.sectionName,o=e.sectionSlug,a=(0,d.ZP)(),l=(0,g.k6)(),u=new f.Ry(1),c=!!o&&"".concat(n).concat(o,"/");return(0,y.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:u,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,y.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:4,children:(0,y.jsx)(f.iP,{onTap:function(e){e.event.preventDefault(),l.push(r?"/me/":c||n)},children:(0,y.jsx)(f.xv,{color:"white",children:i?(0,R.nk)(a._("Saved to {{sectionName}}","PinCard.SavedToSection.Overlay","Saved to section overlay"),{sectionName:(0,y.jsx)(f.xv,{color:"white",weight:"bold",inline:!0,children:(0,Z.ZP)(i,22)},"pincard-".concat(i))}):(0,R.nk)(a._("Saved to {{boardName}}","PinCard.SavedToBoard.Overlay","Saved to board overlay"),{boardName:(0,y.jsx)(f.xv,{color:"white",weight:"bold",inline:!0,children:r?a._("Profile","PinCard.SavedToProfile.Overlay",'Part of string saying "Saved to Profile" after saving a Pin'):(0,Z.ZP)(t,22)},"pincard-".concat(t))})})})})})}var B=t(237785),M=t(371974),N=t(532180),z=t(441891),H=function(e){var n=e.domainLinkData,t=(0,d.ZP)(),r=(0,N.g)();return(0,y.jsxs)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,y.jsx)(f.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,y.jsx)(f.X6,{size:"sm",align:"center",color:"white",children:t._("Open","Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.","Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.")})}),!!n&&(0,y.jsx)(f.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,y.jsx)(z.Z,{clickLoggingOptions:n.clickLoggingOptions,domain:n.domain,link:n.link,onClick:n.onClick||(null==r?void 0:r.pinLinkClickHandler)||function(){}})})]})};function F(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return W(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return W(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var G=function(e){var n=e.children,t=e.margin,r=e.disableRounding;return(0,y.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:t?{marginTop:t.top,marginBottom:t.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,y.jsx)(f.zd,{wash:!0,rounding:r?0:4,children:n})})},q=function(e){var n,t,o,a,l,u,c,s,p,m,h,g,v,b,_=e.clientTrackingParams,x=e.color,w=e.description,j=e.domainLinkData,P=e.hideBottomCardText,k=e.image,O=e.imageAltText,S=e.imageCrop,T=e.isMessenger,I=e.isOneTapExploreLocalTab,C=e.isSquarePin,A=e.onError,E=e.oneTapSave,L=e.onLoad,Z=e.pinId,R=e.pinnedToBoardId,N=e.pinVideo,z=e.disableRounding,W=e.storyData,q=e.title,Y=e.type,X=e.videoDuration,V=e.viewType,J=(0,d.ZP)(),$=F((0,r.useState)(!1),2),K=$[0],Q=$[1],ee=(0,i.useSelector)((function(e){return e.session.isAuthenticated})),ne=(0,M.ZP)(),te=(0,i.useSelector)((function(e){return e.pins[Z]})),re=(0,i.useSelector)((function(e){return e.boards[R||te&&te.board]})),ie=R&&te.savedThisSession,oe=j&&j.link?"with-link":"without-link",ae=!ee&&"desktop"!==ne,le=(0,y.jsx)(f.Ee,{alt:O||q||w||"",color:x,naturalHeight:null!==(n=k.height)&&void 0!==n?n:1,naturalWidth:null!==(t=k.width)&&void 0!==t?t:1,onError:A,onLoad:L,src:null!==(o=k.url)&&void 0!==o?o:"",fit:C?"cover":void 0}),ue=C?(0,y.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,y.jsx)(f.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:le})}):le;return(0,y.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,y.jsxs)(f.xu,{"data-test-id":"pincard-".concat(Y,"-").concat(oe),dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:ae?void 0:function(){return Q(!0)},onMouseLeave:ae?void 0:function(){return Q(!1)},position:"relative",rounding:z?0:4,children:[(0,y.jsxs)(D,{clientTrackingParams:_||"",oneTapSave:E,isOneTapExploreLocalTab:I,pinId:Z,pinnedToBoardId:R,viewType:V,children:["gif"===Y&&!P&&!ie&&(0,y.jsx)(B.Z,{text:J._("GIF","pin.pinCard.gifIconIdentifier","pin type identifier for gifs")}),"video"===Y&&X&&!P&&!ie&&(0,y.jsx)(B.Z,{text:X}),"storyPin"===Y&&W&&"number"==typeof W.page_count&&W.page_count>0&&!ie&&(0,y.jsx)(B.Z,{icon:"idea-pin",text:W.page_count.toString()}),(0,y.jsx)(G,{disableRounding:z,margin:S?(p={width:null!==(a=k.width)&&void 0!==a?a:1,height:null!==(l=k.height)&&void 0!==l?l:1,minY:S.min_y,maxY:S.max_y},m=p.width,h=p.height,g=p.minY,v=p.maxY,b=function(e){return m<=0||!e?"0%":Math.round(e/m*100)+"%"},{top:g<=0?"0%":b(-1*g*h),bottom:v>=1?"0%":b(-1*(1-v)*h)}):void 0,children:"video"===Y&&T&&N?(0,y.jsx)(f.nk,{accessibilityMaximizeLabel:"",accessibilityMinimizeLabel:"",accessibilityMuteLabel:"",accessibilityPauseLabel:"",accessibilityPlayLabel:"",accessibilityProgressBarLabel:J._("Progress bar","PinCardVisual.accessibilityProgressBarLabel","Video progress bar accessibility label"),accessibilityUnmuteLabel:"",aspectRatio:N.width/N.height,captions:"",loop:!0,playing:!0,playsInline:!0,poster:null!==(u=k.url)&&void 0!==u?u:"",src:N.url,volume:0}):ue})]}),K&&!ee&&(0,y.jsx)(H,{domainLinkData:j}),ee&&ie&&(0,y.jsx)(U,{boardName:re.name,boardUrl:re.url,sectionName:null==E||null===(c=E.section)||void 0===c?void 0:c.title,sectionSlug:null==E||null===(s=E.section)||void 0===s?void 0:s.slug,isQuicksave:"quick_saves"===re.layout})]})})}},237785:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(710159),i=t(911439),o=t(146846),a=t(885949);function l(e){var n=e.text,t=e.icon,l=e.largeIdentifier,u=e.largeMargin,c=(0,r.ZP)();return(0,a.jsxs)(o.xu,{zIndex:new o.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,i.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},display:"flex",margin:u?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:l?4:void 0,height:l?36:24,top:!0,children:[t&&(0,a.jsx)(o.xu,{marginEnd:l?2:1,children:(0,a.jsx)(o.JO,{accessibilityLabel:c._("identifier that shows the pin type","pin.pincard.iconAccessibilityLabel","shows an icon with the pin type"),color:"darkGray",icon:t,inline:!0,size:l?18:12})}),(0,a.jsx)(o.xv,{inline:!0,size:l?"md":"sm",weight:"bold",children:n})]})}},175429:function(e,n,t){"use strict";function r(e){var n=Object.keys(e);return n.length>0?n.sort((function(n,t){return e[t]-e[n]})).slice(0,3):null}function i(e){var n=Object.values(e);return n.length>0?n.reduce((function(e,n){return e+n}),0):0}function o(e){var n=e.videos,t=e.is_downstream_promotion,r=e.is_promoted,i=e.story_pin_data_id,o=e.board;return!(r||t||(!n||!n.id)&&!i||o&&o.is_collaborative)}t.d(n,{At:function(){return r},Ud:function(){return i},J6:function(){return o}})},586419:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var r=t(32425),i=t(762782),o=t(319514),a=t(710159),l=t(84739),u=t(911439),c=t(371974),s=t(260259),d=t(827929),p=t(740049),f=t(146846),m=t(885949);function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function v(e){var n,t,r=e.board,i=e.pinner,o=(0,s.TH)();if(!r.url||!r.name)return null;var a=r.url.split("/")[1],l=i&&i.full_name?i.full_name:a,u=i&&(i.image_small_url||i.image_large_url);return(0,m.jsxs)(f.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[u?(0,m.jsx)(f.iP,{role:"link",href:"/".concat(a,"/"),fullWidth:!1,tapStyle:"compress",onTap:function(){(0,p.LW)({action:"click",page_location:o,item:"see-more-button-creator"})},children:(0,m.jsx)(f.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,children:(0,m.jsx)(f.Ee,{naturalHeight:32,naturalWidth:32,alt:l,fit:"cover",color:"rgb(231, 186, 176)",src:u})})},"profile-link"):null,(0,m.jsxs)(f.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,m.jsx)(f.iP,{onTap:function(){(0,p.LW)({action:"click",page_location:o,item:"see-more-button-creator-full-name"})},children:(0,m.jsx)(f.xv,{color:"darkGray",inline:!0,size:"md",weight:"bold",children:(0,m.jsx)(f.rU,{href:"/".concat(a,"/"),inline:!0,tapStyle:"compress",children:l},"profile-link")},"profileLink")}),(0,m.jsx)(f.xv,{color:"darkGray",inline:!0,size:"md",children:(0,m.jsx)(f.rU,{href:null!==(n=r.url)&&void 0!==n?n:"",inline:!0,tapStyle:"compress",children:null!==(t=r.name)&&void 0!==t?t:""},"board-link")},"boardLink")]})]})}function y(e){var n=e.annotations,t=e.board,r=e.description,i=e.pinner,o=e.title;return(0,m.jsxs)(f.xu,{children:[(0,m.jsx)(f.xu,{marginBottom:2,children:n.length>0&&(0,m.jsx)(l.Z,{annotations:n,mode:"expanded"})}),(0,m.jsx)(f.xu,{marginBottom:3,children:(0,m.jsxs)(f.xu,{as:"figcaption",children:[(0,m.jsx)(f.X6,{color:"darkGray",size:"sm",accessibilityLevel:3,children:o}),(0,m.jsx)(f.xu,{height:4}),(0,m.jsx)(f.xv,{color:"darkGray",children:r})]})}),!!t&&(0,m.jsx)(v,{board:t,pinner:i})]})}function b(e){var n=e.pin,t=e.board,l=e.iconColor,g=e.pinner,v=e.size,b=e.isMainPin,_=(0,a.ZP)(),x=(0,i.useSelector)((function(e){return e.session})),w=x.unauthInterstitialDismissed,j=x.isSeoBot,P=h((0,r.useState)(!1),2),k=P[0],O=P[1],S=(0,c.HG)(),T=(0,d.eK)(n),I=T.annotationsWithLinks,C=T.description,A=(0,d.fs)(n)||n.description,E=!S,L=(0,s.TH)(),D=(0,m.jsx)(f.xu,{color:(0,u.Yc)()?"darkGray":"white",dangerouslySetInlineStyle:{__style:{border:(0,u.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:E?"100%":"100vw",zIndex:new f.Ry(1),children:(0,m.jsxs)(f.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:w?0:12,children:[(0,m.jsx)(f.xu,{left:!0,position:"absolute",top:!0,color:"white",padding:4,children:(0,m.jsx)(f.hU,{accessibilityLabel:_._("Cancel","close modal icon","close modal icon"),icon:"cancel",size:"sm",onClick:function(){(0,p.My)("mweb.unauth.see_more.dismissed"),(0,p.LW)({action:"click",page_location:L,item:"close-seo-vase-see-more-button"}),O(!1),b&&(0,p.My)("mweb.unauth.see_more.main_pin.dismissed")}})}),(0,m.jsx)(f.xu,{marginBottom:8,children:(0,m.jsx)(f.xv,{align:"center",weight:"bold",children:(0,m.jsx)("span",{className:"deprecatedTextSizeXL",children:_._("More information","more information label","more information label")})})}),(0,m.jsx)(y,{annotations:I,board:t,description:C,pinner:g,title:A})]})});return(0,m.jsxs)(f.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,m.jsx)(f.hU,{accessibilityLabel:_._("See more","more information icon","more information icon"),icon:"ellipsis",iconColor:l,size:v||"md",onClick:function(e){e.event.stopPropagation(),(0,p.My)("mweb.unauth.see_more.shown"),(0,p.LW)({action:"click",page_location:L,item:"seo-vase-see-more-button"}),O(!0),b&&(0,p.My)("mweb.unauth.see_more.main_pin.shown")}}),j&&E?(0,m.jsx)(f.xu,{display:k?"flex":"none",children:D}):(0,m.jsx)(o.Z,{accessibilityModalLabel:"",hideCloseIcon:!0,isOpen:k,children:D})]})}},528410:function(e,n,t){"use strict";t.d(n,{j:function(){return u},Z:function(){return c}});var r=t(710159),i=t(146846),o=t(112978),a=t(123686),l=t(885949),u=[0,2,3];function c(e){var n,t=e.hasAffiliatedProducts,c=e.isPromoted,s=e.sponsorName,d=e.sponsorshipStatus,p=e.textColor,f=(0,r.ZP)(),m=(0,o.tc)("mweb_web_android_ios_clbc_eu_ad_string")().anyEnabled;c?n=(0,a.nk)(f._("Promoted by {{ name }}","sponsorship.sponsorshipText.promotedByBrand","indicating the username of the person who promoted the pin"),{name:s}):d||0===d?n=s&&!u.includes(d)?(0,a.nk)(f._("Paid partnership with {{ name }}","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when sponsored by a brand"),{name:s}):f._("Paid partnership","closeup.creator.sponsoredPinTitle","Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated"):t&&(n=f._("Includes sponsored products","sponsorship.sponsorshipText.affiliatedProducts","Subtext of pincard attribution for a pin with affiliated products"));var h=m&&!c?"Ad • ":"";return(0,l.jsxs)(i.xv,{color:p,size:"sm",children:[h,n]})}},84739:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(32425),i=t(710159),o=t(740049),a=t(260259),l=t(146846),u=t(885949);function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){f(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e){var n=e.direction,t=e.handleClick,r=e.testId,a=(0,i.ZP)();return(0,u.jsx)("div",{style:p({alignItems:"center",background:"linear-gradient(to ".concat("left"===n?"right":"left",", rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)"),border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",paddingBottom:4,paddingTop:4,position:"absolute",top:0,width:45},"right"===n?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0}),onClick:function(e){(0,o.LW)({action:"click",page:"pin",item:"board-pills-arrow"}),t(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":r,children:(0,u.jsx)(l.JO,{accessibilityLabel:a._("Scroll","annotations.scrollArrow","Accessibility label for scroll arrow button"),icon:"right"===n?"arrow-forward":"arrow-back",size:8,color:"gray"})})}function h(e){var n=e.name,t=e.url,i=c((0,r.useState)(!1),2),s=i[0],d=i[1],p=(0,a.TH)();return(0,u.jsx)(l.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"lightGray",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},children:(0,u.jsx)(l.xv,{color:s?"gray":"darkGray",inline:!0,overflow:"breakWord",size:"sm",weight:"bold",children:t?(0,u.jsx)(l.rU,{inline:!0,tapStyle:"compress",href:t,rounding:8,onClick:function(){(0,o.LW)({action:"click",page_location:p,item:"vase-tag"})},children:n}):n})})}function g(e){var n=e.annotations,t=e.mode,i=c((0,r.useState)(!1),2),a=i[0],s=i[1],d=c((0,r.useState)(!1),2),p=d[0],f=d[1],g=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=g.current,n=function(){if("inlineWithScrollArrows"===t&&g.current){var e=g.current,n=Math.max(0,e.scrollLeft),r=n+e.clientWidth;s(0!==n),f(r<e.scrollWidth)}else s(!1),f(!1)};return n(),null==e||e.addEventListener("scroll",n),function(){null==e||e.removeEventListener("scroll",n)}}),[t]);var v=function(e){return function(n){n.preventDefault(),n.stopPropagation(),"right"===e&&(0,o.LW)({action:"click",page:"pin",item:"board-pills-arrow-button"});var t=g.current;if(t){var r=("left"===e?-1:1)*t.clientWidth*.5;t.scrollLeft=Math.min(Math.max(t.scrollLeft+r,0),t.scrollWidth)}}};return(0,u.jsx)(l.kC,{alignItems:"center",justifyContent:"end",children:(0,u.jsxs)(l.xu,{display:"flex",overflow:"hidden",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[a&&(0,u.jsx)(m,{direction:"left",handleClick:v("left"),testId:"left-scroll-arrow"}),(0,u.jsx)(l.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",padding:"4px 0",whiteSpace:"nowrap"}},ref:g,display:"expanded"===t?"flex":void 0,wrap:"expanded"===t,children:n.map((function(e){var n=e.name,t=e.url;return(0,u.jsx)(h,{name:n,url:t},t||n)}))}),p&&(0,u.jsx)(m,{direction:"right",handleClick:v("right"),testId:"right-scroll-arrow"})]})})}},151994:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var r=t(32425),i=t(762782),o=t(405658),a=t(540690),l=t(907683),u=t(477783),c=t(260259),s=t(740049),d=t(885949);function p(e){var n=e.children,t=e.componentType,p=e.within,f=(0,c.TH)(),m=(0,i.useSelector)((function(e){return e.currentPage})),h=m.viewType,g=m.viewParameter;(0,r.useEffect)((function(){(0,s.LW)({action:"view",item:"download-button",page_location:f,within:p})}),[f,p]);var v=(0,a.Z)();return(0,r.useEffect)((function(){v||(0,s.My)("mweb.app_upsell.forbidden_upsell.".concat(p))}),[v,p]),(0,d.jsx)(o.Z,{children:function(e){return n({handleOpenApp:function(n){var r;((0,s.LW)({action:"click",item:"download-button",page_location:f,within:p}),(0,s.NC)("press_open_app",!0),(0,u.So)({component:t||13106,element:10308,view_type:h,view_parameter:g}),e)&&e(null!==(r=null==n?void 0:n.deepLinkUri)&&void 0!==r?r:"".concat((0,l.am)(f)?"board/":"")+f.pathname.substr(1))}})}})}},505621:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(762782),i=t(328443),o=t(319514),a=t(710159),l=t(741012),u=t(347676),c=t(674014),s=t(146846),d=t(885949),p=function(e){var n=e.isOpen,t=e.onDismiss,c=e.onOpenInApp,p=e.to,f=(0,a.ZP)(),m=(0,r.useSelector)((function(e){return e.session})),h=m.isTablet,g=m.userAgent,v=m.userAgentPlatform,y=(0,u.Rp)({platform:v,userAgent:g}),b=(0,l.Z)({href:null!=p?p:""}),_=h?60:40;return(0,d.jsx)(o.Z,{accessibilityModalLabel:"",isOpen:n,hideCloseIcon:!0,type:"app_upsell_v1",overrideZDepth:101,children:(0,d.jsxs)(s.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,d.jsx)(s.xu,{display:"inlineBlock",position:"absolute",children:(0,d.jsx)(s.xu,{"data-test-id":"appUpsell-continue",children:(0,d.jsx)(s.hU,{accessibilityLabel:f._("close icon background","accesibility label for close icon on a overlay","accesibility label for close icon on a overlay"),icon:"cancel",onClick:function(e){var n=e.event,r=e.dangerouslyDisableOnNavigation;t({event:n}),b&&!n.defaultPrevented&&(r(),b({event:n}))},size:"lg"})})}),(0,d.jsxs)(s.xu,{paddingX:2,paddingY:6,children:[(0,d.jsx)(s.xu,{paddingY:2,justifyContent:"center",display:"flex",children:y?(0,d.jsx)(i.Z,{size:_}):(0,d.jsx)(s.JO,{color:"red",icon:"pinterest",accessibilityLabel:"Pinterest App",size:_})}),(0,d.jsxs)(s.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,d.jsx)(s.xu,{paddingY:2,children:(0,d.jsx)(s.X6,{align:"center",size:"sm",children:y?f._("Try Pinterest Lite","mweb.app_upsell.lite_app_upsell_title","Mobile Web App Upsell title informing the value of downloading the lite app"):f._("The best experience is on the app","mweb.unauth.app_upsell.app_value_prop","Mobile Web App Upsell title on Pin click informing the value of downloading an pp")})}),(0,d.jsx)(s.xv,{align:"center",size:"lg",children:y?f._("A space-saving way to discover new ideas","mweb.app_upsell.lite_app_value_prop","Mobile Web App Upsell subheading informing the user the value of downloading the lite app"):f._("Free, unlimited access to ideas","Value proposition on mobile web home page","Value proposition on mobile web home page")}),(0,d.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,d.jsx)(s.zx,{fullWidth:!0,size:"lg",color:"red",onClick:c,text:f._("Get the app","mweb.app_upsell.app_upsell_button_text","Button to get the Pinterest Lite app")})})]})]})]})})};function f(e){var n=e.clientTrackingParams,t=e.isOpen,r=e.onDismiss,i=e.onOpenInApp,o=e.shouldTrackDismiss,a=e.to,l=e.viewParameter,u=e.viewType;return(0,d.jsx)(c.Z,{clientTrackingParams:n,viewType:u,viewParameter:l,children:(0,d.jsx)(p,{isOpen:t,onDismiss:function(e){o&&(0,c.y)(),r(e)},onOpenInApp:function(){(0,c.y)(),i()},to:a})})}},674014:function(e,n,t){"use strict";t.d(n,{y:function(){return s},Z:function(){return d}});var r=t(32425),i=t(542204),o=t(138797),a=t(829680),l=t(340813),u=t(198873),c=t(885949),s=function(){(0,u.Nh)("appUpsell",Date.now()),(0,u.qn)("firstUpsellTime")||(0,u.Nh)("firstUpsellTime",Date.now()),(0,l.Nh)("showedAppUpsellCurrentSession",!0)};function d(e){var n=e.children,t=e.clientTrackingParams,l=e.viewParameter,u=e.viewType;return(0,i.Z)()||(0,a.FP)(window)?null:(0,c.jsx)(o.Z,{viewType:u,viewParameter:l,component:13106,clientTrackingParams:t,children:(0,c.jsx)(r.Fragment,{children:n})})}},540690:function(e,n,t){"use strict";var r=t(762782);n.Z=function(){return(0,r.useSelector)((function(e){return e.session.canUseNativeApp}))}},198611:function(e,n,t){"use strict";t.d(n,{ZP:function(){return h},j$:function(){return m},Ys:function(){return p},IS:function(){return f}});var r=t(146846),i=t(885949);function o(e){var n=e.category,t=e.ingredients,o=e.textSize,a=void 0===o?"lg":o;return(0,i.jsxs)(r.xu,{marginBottom:4,children:[n&&(0,i.jsx)(r.xu,{children:(0,i.jsx)(r.xv,{weight:"bold",size:a,children:n})}),(null!=t?t:[]).map((function(e){var n,t;return(0,i.jsx)(r.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,i.jsxs)(r.xv,{size:a,children:[e.amt||null," ",e.name]})},"".concat(null!==(n=e.name)&&void 0!==n?n:"","-").concat(null!==(t=e.name)&&void 0!==t?t:""))}))]})}var a=t(364170),l=t(371974),u=t(123686),c=t(776260),s=t(571154),d=t(710159),p=function(e,n){var t=e.m,r=e.h,i=e.rm,o=e.rh;return t&&(!r||o<=0)?(0,u.nk)(n.ngettext("{{mins}} minute","{{mins}} minutes",i,"number showing the minutes to complete a recipe","number showing the minutes to complete a recipe"),{mins:i.toString()}):r?(0,u.nk)(n.ngettext("{{hrs}} hour","{{hrs}} hours",o,"number showing the hours to complete a recipe","number showing the hours to complete a recipe"),{hrs:o.toString()}):null},f=function(e){var n=e.m,t=e.h,r=e.rm,i=e.rh,o=e.i18n;return n&&(!t||i<=0)?(0,u.nk)(o._("{{mins}}m","number showing minutes to complete a recipe","number showing mnutes to complete a recipe"),{mins:r.toString()}):t?(0,u.nk)(o._("{{hrs}}h {{mins}}m","number showing hours to complete a recipe","number showing hours to complete a recipe"),{hrs:t.toString(),mins:n.toString()}):null},m=function(e,n){var t;return t=e.cook_times&&e.cook_times.total?(0,s.X)({m:e.cook_times.total.m||0,h:e.cook_times.total.h||0}):(0,s.X)({m:e.cook_times&&e.cook_times.cook&&e.cook_times.cook.m||0,h:e.cook_times&&e.cook_times.cook&&e.cook_times.cook.h||0}),p(t,n)},h=function(e){var n=e.recipe,t=e.pinLink,u=e.image,s=(0,d.ZP)(),p=(0,l.ZP)(),f=n.name,h=n.categorized_ingredients,g=h&&function(e){var n=e.diets&&e.diets.length>0&&e.diets.join(", "),t=e.servings_summary&&e.servings_summary.summary;return n&&t?"".concat(n," • ").concat(t):n||t}(n),v=function(e){return e.categorized_ingredients?e.categorized_ingredients.reduce((function(e,n){var t,r;return e+(null!==(t=null===(r=n.ingredients)||void 0===r?void 0:r.length)&&void 0!==t?t:0)}),0):0}(n);return m(n,s)||v||g?(0,i.jsxs)(r.xu,{"data-test-id":"pin-recipe-container",display:"flex",direction:"column",marginTop:8,children:[(0,i.jsxs)(r.xu,{direction:"column",display:"flex",marginTop:4,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(0,i.jsx)(r.xu,{marginBottom:4,children:(0,i.jsx)(r.xv,{weight:"bold",align:"desktop"===p?"start":"center",children:s._("Ingredients","Ingredients category heading for recipes","Ingredients category heading for recipes")})}),(0,i.jsxs)(a.Z,{itemScope:!0,itemType:c.G,children:[(0,i.jsx)("meta",{content:f,itemProp:"name"}),u&&(0,i.jsx)("meta",{content:u,itemProp:"image"}),Array.isArray(h)&&h.length>0&&(0,i.jsx)(r.xu,{column:12,"data-test-id":"single-column-ingredients",children:h.map((function(e,n){var t=e.category,a=e.ingredients;return(0,i.jsx)(r.xu,{marginBottom:2,children:(0,i.jsx)(o,{category:t,ingredients:a,textSize:"lg"})},n)}))})]})]}),(0,i.jsx)(r.xu,{marginBottom:4,display:"flex",justifyContent:"phone"===p?"center":void 0,children:t&&(0,i.jsx)(r.rU,{href:t,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,i.jsx)(r.zx,{text:s._("Make it","closeup.recipe.make_it_button","label for button go to recipe link")})})})]}):null}},626587:function(e,n,t){"use strict";var r=t(371974),i=t(146846),o=t(183608),a=t(885949);n.Z=function(e){var n=e.children,t=e.roundedForLargeDevice,l="phone"!==(0,r.ZP)()&&t;return(0,o.VG)()?(0,a.jsx)(i.xu,{marginStart:-o.q3,marginEnd:-o.q3,rounding:l?6:void 0,overflow:l?"hidden":void 0,children:(0,a.jsx)(o.CK,{value:!1,children:n})}):n}},151015:function(e,n,t){"use strict";t.d(n,{z:function(){return u}});var r=t(32425),i=t(762782),o=t(443109),a=t(146846),l=t(885949),u=2500,c="SavePin",s={__style:{right:"-105px"}},d={__style:{animationName:"".concat(c,"_AnimateIn, ").concat(c,"_CircleAnimateOut"),animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:"".concat(c,"_AnimateIn, ").concat(c,"_AnimateOut"),animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},f={__style:{animationName:"".concat(c,"_NavButtonAnimation"),animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}};n.Z=(0,r.memo)((function(e){var n=e.children,t=(0,i.useSelector)((function(e){var n=e.pins,t=e.session,r=e.users[t.userId].last_repin_id;return r?n[r]:null})),r=(0,i.useSelector)((function(e){return e.session.isShowingRepinAnimation}));if(!t||!r)return n;var u=t.images,m=(null==u?void 0:u["136x136"])||(null==u?void 0:u["236x"])||{},h=m.height,g=m.width,v=m.url;return(0,l.jsxs)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,l.jsx)(o.Z,{unsafeCSS:"\n@keyframes ".concat(c,"_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes ").concat(c,"_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes ").concat(c,"_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes ").concat(c,"_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n")}),(0,l.jsxs)(a.xu,{position:"relative",children:[(0,l.jsxs)(a.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:s,children:[(0,l.jsx)(a.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:d}),(0,l.jsx)(a.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:p,children:(0,l.jsx)(a.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,l.jsx)(a.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=g?g:1,naturalHeight:null!=h?h:1,src:null!=v?v:""})})})]}),(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:f,children:n})]})]})}))},824498:function(e,n,t){"use strict";t.d(n,{S:function(){return k}});var r=t(32425),i=t(762782),o=t(130008),a=t(741874),l=t(647136),u=t(710159),c=t(166371),s=t(248924),d=t(474809),p=t(476891),f=t(117167),m=t(448906),h=t(819286),g=t(979596),v=t(112978),y=t(146846),b=t(260259),_=t(885949);function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var j=(0,r.lazy)((function(){return Promise.all([t.e(73068),t.e(95483)]).then(t.bind(t,595483))})),P=(0,r.lazy)((function(){return Promise.all([t.e(73068),t.e(90304)]).then(t.bind(t,890304))})),k=new y.Ry(1);n.Z=(0,s.Z)((function(e){var n,t=e.buttonText,s=e.clientTrackingParams,w=e.color,O=void 0===w?"red":w,S=e.deeplinkUri,T=e.experience,I=e.fromSaveButtonContainer,C=e.inline,A=void 0===C||C,E=e.minWidth,L=e.onTouch,D=e.onUnsave,Z=e.pinId,R=e.pinnedToBoardId,U=e.shape,B=e.shouldShowSavedButton,M=e.showRepinConfirmation,N=e.showToast,z=e.viewType,H=e.viewParameter,F=e.showSaveHandoffExperience,W=(0,u.ZP)(),G=(0,i.useDispatch)(),q=(0,b.k6)(),Y=(0,b.TH)().pathname.startsWith("/pin"),X=(0,i.useSelector)((function(e){return e.session.hasSavedUnauthPin})),V=(0,i.useSelector)((function(e){return e.session.unauthSavePinId})),J=null===(n=(0,i.useSelector)((function(e){return(0,m.ts)(e)})))||void 0===n?void 0:n.pin_count,$=(0,i.useSelector)((function(e){return e.pins[Z]})),K=x((0,r.useState)(!1),2),Q=K[0],ee=K[1],ne=x((0,r.useState)(!1),2),te=ne[0],re=ne[1],ie=(0,v.tc)("mweb_post_first_save_celebration"),oe=function(){G((0,g.Bp)({history:q,i18n:W,onSuccess:function(){T&&G((0,d.CK)(T.placement_id,T.experience_id))},pinId:Z,trackingParams:{clientTrackingParams:s,pinnedToBoardId:R},showRepinConfirmation:F&&!Y?function(){}:M,disableRepinAnimation:V===Z,fromSaveButtonContainer:I,setShowPostSaveConfetti:ee,setShowPostSaveConfettiHalfScreen:re,activatePostFirstSaveCelebration:ie,pinCount:J})).catch((function(e){return N((function(n){var t=n.onHide;return(0,_.jsx)(l.ZP,{variant:"error",text:e.message||W._("Sorry! Something went wrong on our end.","quickSave.toast.error.message","error during repin"),onHide:t})}))}))},ae=(0,r.useRef)(null),le=F&&!X,ue=(0,c.Z)()({fn:function(e){e.stopPropagation(),e.preventDefault(),L&&L(e),B?B&&D&&D():oe()},modalHeader:(0,h.Bx)(W)});(0,r.useEffect)((function(){le&&!ae.current&&(oe(),G((0,p.e2)())),ae.current=le}));var ce=function(){return W._("Pin","quickSave.quickSaveButton.icon.accessibilityLabel","Pin accessibility label")},se=function(){return t||W._("Save","quickSave.quickSaveButton.buttonText","Auth mobile web save button for pin closeup")};return X&&!Y?null:(0,_.jsxs)(y.xu,{"data-test-id":"save-button-mobile",zIndex:k,children:[Q&&(0,_.jsx)(a.Z,{children:(0,_.jsx)(j,{pinImages:$.images})}),te&&(0,_.jsx)(a.Z,{children:(0,_.jsx)(P,{pinImages:$.images})}),S?(0,_.jsx)(f.di,{accessibilityLabel:ce(),color:O,customStyles:{padding:"14px 16px"},deeplinkUri:S,inline:A,minHeight:48,minWidth:E,onTouch:ue,pressState:["compress","background"],shape:U,size:"lg",text:se(),to:q.location.pathname,upsellType:"save",viewType:z,viewParameter:H}):(0,_.jsx)(o.Z,{accessibilityLabel:ce(),color:O,customStyles:{padding:"14px 16px"},inline:A,minHeight:48,minWidth:E,onTouch:ue,pressState:"compress",shape:U,size:"lg",text:se()})]})}))},248924:function(e,n,t){"use strict";var r=t(762782),i=t(151015),o=t(899518),a=t(476891),l=t(358142),u=t(885949);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var p=(0,o.compose)((0,r.connect)(null,(function(e){return{hideRepinAnimation:function(){return e((0,a.a5)())},showRepinAnimation:function(){return e((0,a.WF)())}}})),(function(e){return function(n){var t=n.hideRepinAnimation,r=n.showRepinAnimation,o=(0,l.F9)(),a=o.showToast,c=o.showOneToast;return(0,u.jsx)(e,s(s({},n),{},{showToast:a,showOneToast:c,showRepinConfirmation:function(e,n){n||r(),setTimeout((function(){n||t(),a(e)}),i.z)}}))}}));n.Z=p},660727:function(e,n,t){"use strict";t.d(n,{o$:function(){return i},ty:function(){return o},vE:function(){return a}});var r=(0,t(487889).Z)("inviteContext"),i=r.Provider,o=r.MaybeConsumer,a=r.useMaybeHook},37487:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(626587),i=t(710159),o=t(146846),a=t(885949);function l(e){var n=e.isPinRep,t=(0,i.ZP)(),l=n?"darkGray":"white",u=(0,a.jsx)(o.xu,{padding:n?1:0,children:(0,a.jsx)(o.xu,{color:n?"lightGray":"darkGray",top:!0,height:n?314:"100vh",position:n?"static":"absolute",rounding:n?4:0,width:"100%",children:(0,a.jsxs)(o.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,a.jsx)(o.xu,{paddingY:4,children:(0,a.jsx)(o.JO,{accessibilityLabel:t._("Pin not available","story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel","Accessibility label on icon"),color:l,icon:"alert",size:20})}),(0,a.jsx)(o.xv,{align:"center",color:l,weight:"bold",children:t._("Unavailable","story-pin.Closeup.UnavailableStoryPin.Unavailable","Text on an unavailable idea Pin that has been deleted")}),(0,a.jsx)(o.xu,{paddingY:1,children:(0,a.jsx)(o.xv,{align:"center",color:l,children:t._("Removed by the creator","story-pin.Closeup.UnavailableStoryPin.Removed","Text on an unavailable idea Pin explaining it has been removed by its creator")})})]})})});return n?u:(0,a.jsx)(o.xu,{height:"100vh",children:(0,a.jsx)(r.Z,{children:u})})}},122095:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var r=t(32425),i=t(230555),o=t(710159),a=t(745456),l=t(123686),u=t(458552),c=t(248252),s=t(740049),d=t(260259),p=t(146846),f=t(885949);function m(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var g=function(e){var n=e.children,t=e.onTap,i=m((0,r.useState)(!1),2),o=i[0],a=i[1];return(0,f.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:o?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem",children:(0,f.jsx)(p.iP,{onTap:t,onBlur:function(){return a(!1)},onFocus:function(){return a(!0)},onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},children:n})})};function v(e){var n,t,h,v=e.desktopContextMenuState,y=e.pin,b=e.pinner,_=(0,o.ZP)(),x=(0,d.k6)(),w=(0,i.Z)(y),j=(0,u.Fi)({i18n:_,pin:y}).sourceUser;j&&"string"!=typeof j||(j=null!==(h=y.link_domain)&&void 0!==h&&h.official_user?y.link_domain.official_user:b);var P=j,k=P.full_name,O=P.username,S=(null===(n=y.pin_join)||void 0===n?void 0:n.seo_breadcrumbs)&&y.pin_join.seo_breadcrumbs[0],T=null==S?void 0:S.name,I=null==S?void 0:S.url,C=m((null===(t=y.pin_join)||void 0===t?void 0:t.visual_annotation)||[],1)[0],A=(0,c.NO)(C),E="/search/pins/?q=".concat(encodeURIComponent(A),"&rs=image_only_attribution"),L=(0,a.Z)();return w?(0,f.jsxs)(p.xu,{position:"fixed",dangerouslySetInlineStyle:{__style:{top:"".concat(v.yPosition,"px"),left:"".concat(v.xPosition,"px")}},zIndex:new p.Ry(99999),color:"white",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:250,children:[(0,f.jsx)(p.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,f.jsx)(p.JO,{icon:"pinterest",accessibilityLabel:_._("Pinterest logo","dweb.unauth.context_menu.pinterest_logo","Pinterest logo in the context menu"),color:"red"})}),(0,f.jsx)(g,{onTap:function(){(0,s.My)("dweb.unauth.context_menu.save_image"),L({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.download_image",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:y.id}}})},children:(0,f.jsx)(p.xv,{size:"md",weight:"bold",children:_._("Save image","dweb.unauth.context_menu.link.save_image","Link to save the image")})}),(0,f.jsx)(g,{onTap:function(){(0,s.My)("dweb.unauth.context_menu.open_plp_new_tab"),window.open("/pin/".concat(y.id,"/")),L({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.open_plp_new_tab",desktopOptions:{modalType:"login"}})},children:(0,f.jsx)(p.xv,{size:"md",weight:"bold",children:_._("Open link in new tab","dweb.unauth.context_menu.link.plp_new_tab","Link to open the pin in a new tab")})}),(C||!(!T||!I))&&(0,f.jsx)(g,{onTap:function(){(0,s.My)("dweb.unauth.context_menu.see_more_pins"),I?x.push("".concat(I)):x.push(E)},children:T?(0,f.jsx)(p.xv,{size:"md",weight:"bold",lineClamp:2,children:(0,l.nk)(_._("See more ideas about {{levelOneInterestName}}","dweb.unauth.context_menu.link.see_more_ideas.l1","Link to see similar pins"),{levelOneInterestName:T})}):(0,f.jsx)(p.xv,{size:"md",weight:"bold",lineClamp:2,children:(0,l.nk)(_._("See more ideas about {{interestTag}}","dweb.unauth.context_menu.link.see_more_ideas.interest_tag","Link to see similar pins"),{interestTag:C})})}),!(!k||!O)&&(0,f.jsx)(g,{onTap:function(){(0,s.My)("dweb.unauth.context_menu.more_from_creator"),x.push("/".concat(O,"/"))},children:(0,f.jsx)(p.xv,{size:"md",weight:"bold",lineClamp:2,children:(0,l.nk)(_._("See more from {{full_name}}","dweb.unauth.context_menu.link.more_from_creator","Link to see more ideas from this creator"),{full_name:k})})}),(0,f.jsx)(r.Fragment,{children:(0,f.jsx)(g,{onTap:function(){(0,s.My)("dweb.unauth.context_menu.login_signup"),L({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap.unauth_context_menu.login_signup",desktopOptions:{modalType:"login"}})},children:(0,f.jsx)(p.xv,{size:"md",weight:"bold",children:_._("Log in or sign up for more","dweb.unauth.context_menu.link.login_signup","Link to log in or sign up")})})})]}):null}},707169:function(e,n,t){"use strict";var r=t(32425),i=t(222729),o=t(146846),a=t(885949);n.Z=function(e){var n=e.badgeSize,t=e.badgeSpacing,l=e.fullName,u=e.verifiedType,c=e.truncate,s=void 0!==c&&c,d=l.split(" "),p=d.slice(0,d.length-1).join(" "),f=" ".concat(d[d.length-1]);return s?(0,a.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(o.xv,{lineClamp:1,weight:"bold",children:l}),(0,a.jsx)(o.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,a.jsx)(i.Z,{isVerifiedMerchant:"verifiedMerchant"===u,size:n,showVerifiedIdentity:"verifiedIdentity"===u})})]}):(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)("span",{children:p}),(0,a.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[f," ",(0,a.jsx)(o.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,a.jsx)(i.Z,{isVerifiedMerchant:"verifiedMerchant"===u,size:n,showVerifiedIdentity:"verifiedIdentity"===u})})]})]})}},328443:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(885949);function i(e){var n=e.size,t=e.noCircle;return(0,r.jsxs)("svg",{height:n,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:n,children:[t?null:(0,r.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,r.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},749050:function(e,n,t){"use strict";function r(e){if(e){var n=e.shopping_flags||[],t={pin_is_shop_the_look:n.includes(2),is_available:n.includes(1),is_product_pin_v2:n.includes(5),is_rich_product_pin:n.includes(6)};return JSON.stringify(t)}}t.d(n,{Z:function(){return r}})},347676:function(e,n,t){"use strict";t.d(n,{kp:function(){return u},Rp:function(){return c},G3:function(){return s}});var r=t(340813),i=t(274090),o=t(198873),a=14*i.F4;function l(e,n,t){return e-n>t}var u=function(e){var n,t,u=(n=Date.now(),t=Number((0,o.qn)("appUpsell")),{currentTime:n,firstUpsellTime:Number((0,o.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,r.qn)("showedAppUpsellCurrentSession"))});return e?function(e,n,t){var r=e.currentTime,i=e.firstUpsellTime,u=e.lastUpsellTime,c=e.showedAppUpsellCurrentSession;return t=t||a,!i||function(e,n,t){return e<n+t}(r,i,n)?!c:!!l(r,u,t)&&((0,o.L_)("firstUpsellTime"),!0)}(u,i.F4):function(e,n){var t=e.currentTime,r=e.lastUpsellTime;return n=n||a,!r||l(t,r,n)}(u)},c=function(e){var n=e.platform,t=e.userAgent;try{return"android"===n&&parseFloat(function(e){var n=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return n?n[1]:void 0}(t))<7}catch(r){return!1}},s=function(e){return(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()}},524138:function(e,n,t){"use strict";t.d(n,{zu:function(){return r},Uw:function(){return i},AA:function(){return o},k7:function(){return a},zR:function(){return l},dy:function(){return u},QR:function(){return c},KH:function(){return s},E9:function(){return d},rT:function(){return p},IO:function(){return f},EU:function(){return m},ZR:function(){return h},u9:function(){return g}});var r="OPEN_UNAUTH",i="openUnauthType",o="_isAfterLogin",a="_lastVisitedPages",l="_lastVisitedPagesBeforeLogin",u="_lastVisitedBoardPages",c="_lastVisitedPagesBeforeNavPage",s="_lastVisitedSessionPages",d="unauthTopicsFollowed",p=["US","CA","NZ","AU"],f=new Set(["GB","IE"]),m=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),h=new Set(["BR","MX","AR","CL","CO","PE"]),g="ad_img"},855571:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(762782);function i(){return(0,r.useSelector)((function(e){return e.session.isAuthenticated}))}},458552:function(e,n,t){"use strict";t.d(n,{Fi:function(){return r},CK:function(){return i},AH:function(){return o}});var r=function(e){var n,t,r,i,o,a,l,u,c,s,d,p=e.i18n,f=e.isLego,m=e.pin,h=e.useGridTitleOrRichSummary,g=m.link_domain,v=m.native_creator,y=m.rich_metadata,b=m.rich_summary,_=m.attribution,x=f?p._("From ","Closeup pin annotation","Closeup pin annotation"):p._("Saved from ","Closeup pin annotation","Closeup pin annotation"),w=p._("Visit","pin outbound link text","pin outbound link text"),j="",P="";if(v?u=v:g?(u=g.official_user,P=m.domain):u=m.origin_pinner||m.pinner,u&&"string"!=typeof u&&u.username?(a="/".concat(u.username,"/"),l=u.full_name):l=P,!g||y&&y.recipe&&y.recipe.from_aggregated_data)x=p._("Saved by ","Closeup pin annotation","Closeup pin annotation");else{var k,O=!!(y&&y.recipe&&y.recipe.name&&y.recipe.categorized_ingredients);y&&y.products&&y.products[0]&&(k=!!(y&&y.products[0].name&&y.products[0].offer_summary));var S,T,I,C=!(!y||!y.article),A=!(!y||!y.tutorial);if(k)x=p._("Product sold by ","pin annotation","pin annotation"),i=null==y||null===(S=y.products)||void 0===S?void 0:S[0].offer_summary,o=null==y||null===(T=y.products)||void 0===T?void 0:T[0].shipping_info,j=null==y||null===(I=y.products)||void 0===I?void 0:I[0].name;else if(A)f&&(x=p._("From ","pin annotation","pin annotation")),x=p._("Saved from ","pin annotation","pin annotation");else if(O){var E,L,D,Z;x=p._("Recipe from ","pin annotation","pin annotation"),w=p._("Make it ","pin outbound link text","pin outbound link text"),j=null==y||null===(E=y.recipe)||void 0===E?void 0:E.name,t=null==y?void 0:y.closeup_description,null!==(D=r=null!==(L=null==y?void 0:y.recipe)&&void 0!==L?L:null)&&void 0!==D&&null!==(Z=D.aggregate_rating)&&void 0!==Z&&Z.rating_value&&"number"==typeof r.aggregate_rating.review_count&&(null!=y&&y.site_name||m.domain)?r.aggregate_rating.review_source=(null==y?void 0:y.site_name)||m.domain:r&&(r.aggregate_rating=null)}else if(C){var R;n=(null==y||null===(R=y.article)||void 0===R?void 0:R.date_published)&&new Date(y.article.date_published),j=null==y?void 0:y.title,x=p._("Article from ","pin annotation","pin annotation"),w=p._("Read it ","pin outbound link text","pin outbound link text")}}!i&&b&&(b&&b.products&&b.products[0]&&(!(b&&b.products[0].name&&b.products[0].offer_summary)||(x=p._("Product sold by ","pin annotation","pin annotation"),i=null===(c=b.products)||void 0===c?void 0:c[0].offer_summary,o=null===(s=b.products)||void 0===s?void 0:s[0].shipping_info,j=null===(d=b.products)||void 0===d?void 0:d[0].name)));var U=(m.unified_user_note||"").trim(),B=j=m.grid_title||m.title;if(!B&&h){var M=m.grid_title;B="string"==typeof M?M:(m.rich_summary||{}).display_name}return t=m.closeup_unified_description&&m.closeup_unified_description.trim(),{actionButtonText:w,avatar:u&&"string"!=typeof u&&(u.image_medium_url||u.image_small_url)||"",pinArticleDate:n,pinAttribution:_,pinCreditLink:a,pinCreditPrefix:x,pinCredit:l,pinDescription:t,pinDownloadTitle:B,pinProduct:i,pinShippingInfo:o,pinTitle:j,pinCategory:m.category,pinRecipe:r,sourceUser:u,trimmedUserNote:U}},i=function(e){var n=e.rich_metadata;return n?n.products?144:n.article?141:n.recipe?145:139:140},o=function(e){return!!e.link&&!e.link.startsWith("https://i.pinimg.com")}},355247:function(e,n,t){"use strict";t.d(n,{Mt:function(){return p},fU:function(){return f},CC:function(){return m},dp:function(){return h},H$:function(){return g},p9:function(){return v},Yi:function(){return y},Yy:function(){return _},Ff:function(){return w}});var r=t(186964),i=t(724207),o=t(498177),a=t(781228),l=t(256191),u=t(740049),c=t(340813),s=t(524138),d=t(198873),p=function(e,n,t,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:s.k7,l=(0,d.qn)(a)?JSON.parse((0,d.qn)(a)):[];if(!l[0]||l[0].path!==e){var u=[{path:e,ts:Date.now(),pin_id:t||0,first_pin_image_signature:n||"",first_pin_id:t||"",image_info:r||"",pin_description:i||"",is_shared:!!o,pin_invite_code:o}];(0,d.Nh)(a,JSON.stringify(u.concat(l)))}},f=function(){var e,n=(0,c.qn)(s.KH);if(!n)return[];try{e=JSON.parse(n)}catch(t){e=[]}return e},m=function(e){var n=e.path,t=e.image,r=e.dominant_color,i=e.pin_description,o=e.pin_id,a=f();if(!a[0]||a[0].path!==n){var l=[{path:n,image:t,pin_description:i||"",dominant_color:r||"",pin_id:o||""}];(0,c.Nh)(s.KH,JSON.stringify(l.concat(a)))}};function h(e,n,t,r,i,o){p(e,n,t,r,i,o,s.zR)}var g=function(e,n){var t,r;p(e,n.image_signature,n.id,null===(t=n.images)||void 0===t?void 0:t["236x"],null!==(r=n.description)&&void 0!==r?r:"","",s.dy)};function v(e,n,t,r,i){p(e,n,t,r,i,"",s.QR)}function y(){var e=i.ZP.create("UnauthUserDataResource");return new Promise((function(n,t){e.callGet().then((function(e){var i=e.resource_response.data,o=!!r.U2(l.x3);return i?((0,a.Wn)(i.medium_image_url)&&(i.medium_image_url=""),(0,u.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_".concat(o?"true":"false")),n(i)):((0,u.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_".concat(o?"true":"false")),t({}))})).catch((function(e){if(e&&e.message){var n=e.message.replace(/\s/g,"_").toLowerCase();(0,u.My)("mweb.unauth.personalized_login.fetch_user_info.error.".concat(n))}else(0,u.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return t(e)}))}))}function b(e){var n,t=e.i18n,r=e.location,i=r.pathname.startsWith("/signup"),o=r.pathname.startsWith("/login");if(!i&&!o)return{showPLPBanner:!1,pinForBanner:null};try{n=JSON.parse((0,c.qn)(s.KH))}catch(l){n=[]}if(n&&n.length>0){var a=n[0];if(a)return a.bannerCopy=t._("More ideas like this await","page banner with pin image that was signed up from","page banner with pin image that was signed up from"),{showPLPBanner:Boolean(a.image),pinForBanner:a}}return{showPLPBanner:!1,pinForBanner:null}}var _=function(e){return e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null};function x(e){var n,t=e.i18n,r=e.location,i=(null===(n=r.state)||void 0===n?void 0:n.next)||_(r);if(i){var a=i.indexOf("?"),l=(0,o.mB)(i.substring(a));if(l.url&&l.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,o.Jx)(l.media),height:1,width:1},pinDescription:l.description,bannerCopy:t._("Save this idea and discover more inspiration like it.","page banner with pin image that was signed up from","page banner with pin image that was signed up from")}}}return{showPLPBanner:!1,pinForBanner:null}}function w(e){var n=e.i18n,t=e.location;return x({i18n:n,location:t}).showPLPBanner?x({i18n:n,location:t}):b({i18n:n,location:t}).showPLPBanner?b({i18n:n,location:t}):{showPLPBanner:!1,pinForBanner:null}}},24391:function(e,n,t){"use strict";t.d(n,{g:function(){return p},B:function(){return d}});var r=t(32425),i=t(740049),o=t(371974),a=t(122095),l=t(885949);function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var s=(0,r.createContext)((function(){return function(){}})),d=function(){return(0,r.useContext)(s)},p=function(e){var n=e.children,t=u((0,r.useState)(null),2),c=t[0],d=t[1],p=u((0,r.useState)(null),2),f=p[0],m=p[1],h=u((0,r.useState)(null),2),g=h[0],v=h[1],y=(0,o.HG)(),b=function(){document&&document.body&&document.body.style&&(document.body.style.overflow="unset")};(0,r.useEffect)((function(){return b}),[]);var _=!!c;return(0,r.useEffect)((function(){var e=function(){d(null),b(),(0,i.My)("dweb.unauth.context_menu.click_away")};return _&&document.addEventListener("click",e),function(){_&&document.removeEventListener("click",e)}}),[_]),(0,l.jsx)(s.Provider,{value:function(e,n){return function(t){y&&(t.preventDefault(),m(e),v(n),(0,i.My)("dweb.unauth.context_menu.open_menu"),d({xPosition:t.clientX,yPosition:t.clientY}),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden"))}},children:(0,l.jsxs)(r.Fragment,{children:[n,y&&c&&f&&g&&(0,l.jsx)(a.Z,{desktopContextMenuState:c,pin:f,pinner:g})]})})}},5204:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var r=t(32425),i=t(542204),o=t(198873);function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var u=function(e){var n=(0,o.qn)(e);if(!n)return null;try{return JSON.parse(n)}catch(t){return null}};var c=t(112978);function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var p=function(){var e,n,t,l,d,p,f,m=s((e="unauthSavedPins",n=(0,i.Z)(),t=a((0,r.useState)(n?null:u(e)),2),l=t[0],d=t[1],(0,r.useEffect)((function(){d(u(e))}),[e]),[l,(0,r.useCallback)((function(n){d(n),null===n?(0,o.L_)(e):(0,o.Nh)(e,JSON.stringify(n))}),[e])]),2),h=m[0],g=m[1],v=null!==(f=null==(p=h)?void 0:p.pins)&&void 0!==f?f:[],y=function(e){return g(function(e){return e.length?{pins:e}:null}(e))},b=(0,c.tc)("mweb_unauth_extended_save_flow_v2"),_=function(){return v.length<(b().anyEnabled?1:0)};return{pins:v,save:function(e){_()&&y(v.filter((function(n){return n.id!==e.id})).concat([e]))},unsave:function(e){return y(v.filter((function(n){return n.id!==e})))},isSaved:function(e){return v.some((function(n){return n.id===e}))},clear:function(){return y([])},canSaveMore:_}}},397512:function(e,n,t){"use strict";t.d(n,{a:function(){return i},k:function(){return o}});var r=t(138365),i=function(e){return{type:r.cZ,payload:e}},o=function(e){return{type:r.U1,payload:e}}},193640:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(928522),i=t(740049);function o(e,n){if(n&&!function(){try{return window.localStorage.test=2,!1}catch(e){return!0}}()){var t=window.open(e,"_blank");return t&&(t.opener=null),t}var o=(0,r.Z)(e);return setTimeout((function(){(0,i.My)("setting_new_window_location")}),0),window.location.href=o,window}},597569:function(e,n,t){"use strict";var r=t(539195);n.Z=function(){return(0,r.v)().logContextEvent}},766279:function(e,n,t){"use strict";function r(e){var n=Math.round(e/1e3),t=n%60;return Math.floor(n/60)+":"+(t<10?"0":"")+t}t.d(n,{Z:function(){return r}})},201361:function(e,n,t){"use strict";var r=t(32425);function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}n.Z=function(){var e=i((0,r.useState)(!1),2),n=e[0],t=e[1];return(0,r.useEffect)((function(){t(!0)}),[]),n}},517198:function(e,n,t){"use strict";t.d(n,{Mi:function(){return i},lO:function(){return o}});var r=(0,t(487889).Z)("pageContext"),i=r.Provider,o=r.useMaybeHook},53930:function(e,n,t){"use strict";var r=t(96527);n.Z=r.Z},584230:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});function r(e,n){if(!(e||{}).created_at&&!(n||{}).createdAt)return!1;var t="";n&&n.createdAt?t=n.createdAt:e&&e.created_at&&(t=e.created_at);var r=new Date(t);return r.setDate(r.getDate()+28),(new Date).getTime()<r.getTime()}},441891:function(e,n,t){"use strict";var r=t(514183),i=t(710159),o=t(517198),a=t(597569),l=t(146846),u=t(885949);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var p=function(e,n){var t={};if(e){var r=e.pinData,i=e.viewData;t={unauth_click_pin_id:r.id,unauth_click_pin_image_signature:r.imageSignature},3===n?t=s(s({},t),{},{unauth_page_pin_id:i.id,unauth_page_pin_image_signature:i.imageSignature}):5===n&&(t=s(s({},t),{},{unauth_page_board_id:i.id}))}return t};n.Z=function(e){var n,t=e.clickLoggingOptions,c=e.domain,d=e.link,f=e.onClick,m=null===(n=(0,o.lO)())||void 0===n?void 0:n.logging,h=(0,i.ZP)(),g=(0,a.Z)(),v=function(){return[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:p(t.unauthRankingLoggingData,null==m?void 0:m.viewType)}].map((function(e){return s({component:0,element:162,view_type:null==m?void 0:m.viewType,view_parameter:null==m?void 0:m.viewParameter,aux_data:t.auxData,object_id_str:t.auxData.objectId},e)}))};return(0,u.jsx)(l.iP,{onTap:function(e){var n=e.event;n.stopPropagation(),v().forEach((function(e){return g(e)})),f(n)},children:(0,u.jsxs)(l.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,u.jsx)(l.xu,{marginEnd:1,children:(0,u.jsx)(l.JO,{size:9,icon:"arrow-up-right",color:"white",accessibilityLabel:h._("Link","unauth.pin.domain.link","Link to take them to the source of the iamge")})}),(0,u.jsx)("a",{href:d,onClick:function(e){e.stopPropagation(),v().forEach((function(e){return g(e)})),f(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,u.jsx)(l.xv,{size:"md",inline:!0,weight:"bold",lineClamp:1,color:"white",children:(0,r.Z)(c,27)})})]})})}},834375:function(e,n,t){"use strict";t.d(n,{P:function(){return a},t:function(){return l}});var r=t(724207),i=function(){};var o={complaint:function(e,n){r.ZP.create("PinFeedbackResource",e).callUpdate().then((function(){return n()}))},followBoard:function(e,n){r.ZP.create("BoardFollowResource",e).callCreate().then((function(){return n()}))},followPinner:function(e,n){r.ZP.create("UserFollowResource",e).callCreate().then((function(){return n()}))},followTopic:function(e,n){r.ZP.create("InterestFollowResource",e).callCreate().then((function(){return n()}))},newsHubPinHide:function(e,n){r.ZP.create("NewsHubPinFeedbackResource",e).callUpdate().then((function(){return n()}))},promotedComplaint:function(e,n){r.ZP.create("PinFeedbackResource",e).callUpdate().then((function(){return n()}))},relatedPinHide:function(e,n){r.ZP.create("RelatedPinFeedbackResource",e).callUpdate().then((function(){return n()}))},reportPin:function(e,n){n()},showAdReasons:function(e,n){n()},unfollowBoard:function(e,n){r.ZP.create("BoardFollowResource",e).callDelete().then((function(){return n()}))},unfollowPinner:function(e,n){r.ZP.create("UserFollowResource",e).callDelete().then((function(){return n()}))},unfollowTopic:function(e,n){r.ZP.create("InterestFollowResource",e).callDelete().then((function(){return n()}))},unrelatedSearchPin:function(e,n){r.ZP.create("SearchPinFeedbackResource",e).callUpdate().then((function(){return n()}))}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function l(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,r=e?o[e]:null;return r?r(n,t):t()}},716975:function(e,n,t){"use strict";t.d(n,{yl:function(){return s},XZ:function(){return d},nb:function(){return p},EF:function(){return f}});var r=t(632589),i=t(834375),o=t(879268);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){u(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var c=function(e){return e.length>32?"".concat(e.substring(0,32).trim(),"..."):e};function s(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function p(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function f(e,n,t,r,o,a,u){return function(){var c=l(l({},e),{},{undo:!0}),s=n;"unfollowPinner"===n?s="followPinner":"unfollowBoard"===n?s="followBoard":"unfollowTopic"===n&&(s="followTopic"),(0,i.t)(s,c),a(t),u({event_type:101,component:0,element:11181,view_type:r,view_parameter:o})}}n.ZP=function(e){var n=e.i18n,t=e.interpolateNamedTemplate;return{getLearnMoreUrl:function(e){switch(e){case 1:return r.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return r.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return r.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:function(e){var r=e.ad_match_reason,i=e.board,o=e.feedbackType,a=e.makeNavigateLink,l=e.pinner,u=e.promoter,s=e.recommendationReason,d=e.sourceInterest;switch(o){case"pfy":return n._("This Pin was inspired by your recent activity","Pin feedback reason","Pin feedback reason");case"pfyBoard":var p=s.board,f=p.name,m=a("navigation",p.url,f);return t(n._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board","Pin feedback - inspired by your board"),{boardLink:m});case"topic":var h=d.name,g=d.url_name,v=a("topicUrl","/topics/".concat(g),h);return t(n._("This Pin was inspired by {{ formattedTopic }}","Pin feedback","Pin feedback"),{formattedTopic:v});case"followed":var y="/".concat(l.username),b=a("boardUrl",i.url,c(i.name)),_=a("pinnerUrl",y,c(l.full_name));return l.explicitly_followed_by_me?t(n._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback","Pin feedback"),{formattedPinner:_}):t(n._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback","Pin feedback"),{formattedBoard:b});case"promoted":switch(r){case 1:case 2:case 3:return n._("This ad was personalized for you using info from one of our partners","Pin feedback","Pin feedback");default:var x=u.full_name,w=u.username,j=a("promotedLink",w?"/"+w+"/":"/",x);return t(n._("{{ promoterLink }} paid to have this Pin show up where\n          you’d be more likely to notice it","Pin feedback","Pin feedback"),{promoterLink:j})}default:return null}},getFeedbackType:function(e){var n=e.board,t=e.feedback,r=e.viewParameter,i=e.pin,o=i.promoter,a=i.is_downstream_promotion,l=i.recommendation_reason,u=e.pinner,c=t&&t.type;return o&&!a?"promoted":c||(function(e){return!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0}(l)?l.board?"pfyBoard":"pfy":l&&"FOLLOWED_INTEREST"===l.reason?"topic":n&&n.followed_by_me||u&&u.explicitly_followed_by_me?"followed":140===r||144===r||141===r||145===r||139===r||3173===r?"related":92===r?"default":3082===r?"newsHub":null)},getHidePinAction:function(e){var n,t,r=e.feedbackData,i=e.feedbackType,o=e.pinId,a=e.recommendationReasonId,u=e.pinFeedbackType,c=e.complaintReason,s=e.throughId,d=e.throughProperties,p=e.clientTrackingParams,f="promoted"===i;switch(i){case"promoted":n="promotedComplaint";break;case"search":n="unrelatedSearchPin";break;case"related":n="relatedPinHide";break;case"newsHub":n="newsHubPinHide";break;default:n="complaint"}switch(i){case"search":t={query:r.query,pin_id:o};break;case"related":t={pin:o};break;case"newsHub":t={pinId:o,newsId:r.newsId};break;default:t=l(l(l(l({complaint_reason:c||0,pin_id:o},a?{recommendation_reason_id:a}:{}),{},{feedback_type:u||1,promoted:f},s?{through_id:s}:{}),d?{through_properties:d}:{}),p?{client_tracking_params:p}:{})}return{action:n,actionOptions:t}},getUnfollowAction:function(e){var r=e.board,i=e.feedbackType,a=e.makeNavigateLink,l=e.pinner,u=e.sourceInterest;if("topic"===i){if(u){var c=u.id,s=u.name,d=u.url_name,p=a("topicUrl","/topics/".concat(d),s,!0),f=t(n._("We’ll show you less Pins from {{ formattedTopic }} in the future.","pin.contextualMenu.feedback.unfollowTopic.subtitle","Confirmation text after unfollowing a topic"),{formattedTopic:p});return{action:"unfollowTopic",actionOptions:{interest_id:c,interest_list:o.X},title:"",subTitle:f}}}else if("followed"===i&&r&&l){var m=r||{},h=m.id,g=m.name,v=m.url,y=l.explicitly_followed_by_me,b=l.full_name,_=l.username,x="/".concat(_),w=a("boardUrl",v,g,!0),j=a("pinnerUrl",x,b,!0);y?t(n._("You’ve unfollowed {{ formattedPinner }}’s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedPinner:j,formattedBoard:w}):t(n._("You’ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:w});return{action:"unfollowBoard",actionOptions:{board_id:h},title:"",subTitle:y?t(n._("You unfollowed {{ formattedPinner }} and won’t see Pins they save anymore.","Confirmation text after unfollowing a user","Confirmation text after unfollowing a user"),{formattedPinner:j}):t(n._("You unfollowed the board {{ formattedBoard }} and won’t see Pins saved to it anymore.","Confirmation text after unfollowing a board","Confirmation text after unfollowing a board"),{formattedBoard:w})}}return null}}}},230555:function(e,n,t){"use strict";function r(e,n){if(!e)return"";if(e.embed&&"gif"===e.embed.type)return e.embed&&e.embed.src||"";var t=e.images;if(!t)return"";if(n){var r="474x"===n&&t["474x"]||"236x"===n&&t["236x"]||t["736x"];if(r&&r.url)return r.url}var i=Object.keys(t).map((function(e){try{var n=e.split("x")[0];return Number.isNaN(Number(n))?(t[n]=t[e],n):e}catch(r){return""}}));i.sort();var o=i.pop();return t[o]&&t[o].url||""}t.d(n,{Z:function(){return r}})},397529:function(e,n,t){"use strict";var r=t(827929),i=function(e){return(e||"").trim().replace(/\s+/g," ")};n.Z=function(e){var n=e||{};return!!n.story_pin_data_id?i(n.description):i((0,r.eK)(n).description)||i(n.closeup_unified_description||"")||i(n.closeup_description)||i(n.description)||i(n.rich_metadata&&n.rich_metadata.description)||""}},827929:function(e,n,t){"use strict";t.d(n,{hP:function(){return f},fs:function(){return c},eK:function(){return s},Ly:function(){return d},RC:function(){return l},EU:function(){return u}});var r=/\s\s+/g,i=function(e){return e.replace(r," ")},o=t(819086),a=function(e){return"string"==typeof e?e:""},l=function(e){return e.story_pin_data&&e.story_pin_data.metadata&&e.story_pin_data.metadata.pin_title||e.title},u=function(e,n){return e?e.trim().length>n?(0,o.ZP)(e.trim(),n).trim():e.trim():""},c=function(e){var n=(e||{}).grid_title,t=function(e){var n=e||{},t=n.place_summary,r=n.rich_summary,i=r&&"mobile application"!==r.type_name;return{hasRichSummary:i,hasRichAttributionTitle:i&&r.display_name,hasPlaceInfo:!!t}}(e),r=t.hasRichAttributionTitle,i=t.hasPlaceInfo,o=l(e),a=u(n,200);return a||(r?function(e){var n=e.rich_summary,t=n.apple_touch_icon_images,r=n.favicon_images;return r=r||{},{faviconLink:(t=t||{})["50x"]||r["50x"]||t.orig||r.orig,siteName:n.site_name||e.domain,title:n.display_name}}(e).title:i?function(e){var n=e.place_summary;return{faviconLink:n.source_icon,siteName:n.source_name||e.domain,title:n.name}}(e).title:e.rich_metadata&&e.rich_metadata.title?e.rich_metadata.title:e.story_pin_data_id&&o?o:null)},s=function(e){var n=e.pin_join||{},t=n.visual_annotation||[],r=t.map((function(e){return(n.annotations_with_links||{})[e]||{name:e,url:""}})),a="",l=(e.rich_metadata||{}).description||"",u=e.closeup_unified_description||"",c=function(e){return e.rich_summary&&e.rich_summary.display_name||e.place_summary&&e.place_summary.name||""}(e).toLocaleLowerCase().trim(),s=l.toLocaleLowerCase().trim(),d=u.toLocaleLowerCase().trim();return u&&u.length>3&&d!==c?a=u:l&&l.length>3&&s!==c&&(a=l),a&&(a=i((0,o.ZP)(a,496)).trim()),{description:a,vaseAnnotations:t,annotationsWithLinks:r}},d=function(e,n,t){var r=(t||[]).map((function(e){return e.name})),i=function(e){return(e||[])[0]||null};return c(e)||i(n)||i(r)||e.title},p=function(e,n,t){return n&&n.trim().length?t?n:e+" "+n:e},f=function(e,n,t,r,i){var o=a(e),l=o;if(t){var u=t.seo_description;if(u){var c=u.toLowerCase(),s=a(n);c!==o.toLowerCase()&&c!==s.trim().toLowerCase()&&(l=u)}l=p(l,r,i);var d=t.visual_annotation;d&&(l&&(l+=" "),l+=d=d.join(", "))}else l=p(l,r,i);return l}},879268:function(e,n,t){"use strict";t.d(n,{X:function(){return r}});var r="favorited"},656831:function(e,n,t){"use strict";t.d(n,{of:function(){return h},yz:function(){return g},l5:function(){return v},xC:function(){return y},kf:function(){return b}});var r=t(32425),i=t(71445),o=t(914861),a=t(542204),l=t(829680),u=t(487889),c=t(885949);function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var p=(0,u.Z)("PwaContext"),f=p.Provider,m=p.useMaybeHook,h=function(e){var n=e.children,t=e.initialContext,a=s((0,r.useState)(null),2),u=a[0],d=a[1],p=t||{pwaType:"unknown",twaType:null},m=p.pwaType;(0,o.Z)((function(){var e=(0,l.FB)(window)||"unknown";d(e),m!==e&&i.Z.increment("pwa.type_mismatch",1,{serverPwaType:m,clientPwaType:e,conflict:"unknown"!==m&&"unknown"!==e})}));var h="unknown"===m&&u?u:m,g=p.twaType;return(0,c.jsx)(f,{value:{pwaType:h,twaType:g},children:n})},g=function(){var e,n=m();return null!==(e=null==n?void 0:n.pwaType)&&void 0!==e?e:"unknown"},v=function(){var e,n=m();return null!==(e=null==n?void 0:n.twaType)&&void 0!==e?e:null},y=function(){return"android-twa"===g()},b=function(){var e=g(),n=(0,a.Z)();return"unknown"===e&&n?null:"windows"===e}},229687:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(32425),i=t(7264),o=t.n(i),a=t(146846),l=t(885949),u=function(e){var n=e.fill,t=(e.width,e.color,"half"===n?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(a.xu,{position:"absolute",children:(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"darkGray",icon:"star-half",size:12})}),(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"gray",icon:"star",size:12})]}):(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"full"===n?"darkGray":"gray",icon:"star",size:12}));return(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:t})};function c(e){var n=e.max_rating,t=e.rating,i=e.width,a=e.color,c=[],s=function(e,n){return 5*(n=n<=e?n:e)/e}(parseFloat(n)||5,parseFloat(t)||0);if(Number.isNaN(s))return null;var d=Math.floor(s),p=s-d;return o()(d,(function(e){return c.push((0,l.jsx)(u,{color:a,fill:"full",width:i},e))})),p>=.75?c.push((0,l.jsx)(u,{color:a,fill:"full",width:i},c.length)):p>=.25&&c.push((0,l.jsx)(u,{color:a,fill:"half",width:i},c.length)),o()(5-c.length,(function(){return c.push((0,l.jsx)(u,{color:a,fill:"empty",width:i},c.length))})),(0,l.jsx)(r.Fragment,{children:c})}},571154:function(e,n,t){"use strict";function r(e){var n=e.m,t=void 0===n?0:n,r=e.h,i=void 0===r?0:r;return{m:t,h:i,rm:i>0?0:t,rh:i<=0?i:t>45?i+1:t>15?i+.5:i}}function i(e){var n=Math.floor(e/3600);return r({m:Math.floor(e%3600/60),h:n})}t.d(n,{X:function(){return r},u:function(){return i}})},364170:function(e,n,t){"use strict";var r=t(885949);function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}n.Z=function(e){var n=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,r.jsx)("div",o(o({},n),{},{children:e.children||null}))}},776260:function(e,n,t){"use strict";t.d(n,{G:function(){return r}});var r="https://schema.org/Recipe"},958131:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(146846),i=t(885949);function o(e){var n=e.accessibilityLabel;return(0,i.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(r.$j,{accessibilityLabel:n,show:!0})})}},185185:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(32425),i=t(885949);function o(e){var n=e.children,t=e.fallback,o=(e.dangerouslyServerRenderForGraphQL,t||null);return(0,i.jsx)(r.Suspense,{fallback:o,children:n})}},741874:function(e,n,t){"use strict";var r=t(185185);n.Z=r.Z},248252:function(e,n,t){"use strict";t.d(n,{R3:function(){return o},NO:function(){return a},Jc:function(){return l},th:function(){return u},ge:function(){return s}});var r=t(413771),i=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],o={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function a(e){return(e||"").trim().replace(/\s+/g," ")}function l(e){var n=e.type,t=e.term,r=void 0===t?"":t,i=e.index;switch(n){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return"".concat(r,"|").concat(n);case o.AUTO_COMPLETE_DEFAULT:return"".concat(r,"|autocomplete|").concat(i);case o.AUTO_COMPLETE_RECENT_SEARCH:return"".concat(r,"|recentsearch|").concat(i);case o.AUTO_COMPLETE_TRENDING:return"".concat(r,"|trending|").concat(i);case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:return"".concat(r,"|recommended|").concat(i);case o.SEARCH_GUIDE:return"".concat(r,"|guide|word|").concat(i);default:return""}}function u(e){var n=e.queryStates;return 0===n.length?"":"&"+(0,r.Z)({term_meta:n.map((function(e){return l(e)}))})}function c(e){if(e){var n=e.trim().split(/\s+/);return n.find((function(e){return i.includes(e.toLowerCase())}))?[e]:n}return[]}function s(e){var n=e.type,t=e.query,r=void 0===t?"":t,i=e.index;switch(n){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return c(r).map((function(e){return{index:i,term:e,type:n}}));case o.AUTO_COMPLETE_RECENT_SEARCH:case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:case o.AUTO_COMPLETE_TRENDING:case o.AUTO_COMPLETE_DEFAULT:return c(r).map((function(e){return{term:e,type:n,index:i}}));default:return[]}}},514183:function(e,n){"use strict";n.Z=function(e,n){return e.length>n?e.substr(0,n-3).trim()+"…":e}},819086:function(e,n,t){"use strict";t.d(n,{ZP:function(){return r}});function r(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"…",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)n=e.substring(0,t);else{var o=e.lastIndexOf(" ",t);n=e.substring(0,o)}return(n=n.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+r}},542204:function(e,n,t){"use strict";var r=t(133017),i=t(201361);n.Z=function(){var e=(0,r.Z)(),n=(0,i.Z)();return e&&!n}},133017:function(e,n,t){"use strict";t.d(n,{G:function(){return c},Z:function(){return s}});var r=t(32425),i=t(260259),o=t(885949);function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(u){l=!0,i=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw i}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var u=(0,r.createContext)(!0);function c(e){var n=e.children,t=(0,i.TH)(),l=a((0,r.useState)(!0),2),c=l[0],s=l[1],d=(0,r.useRef)(t);return(0,r.useEffect)((function(){d.current!==t&&(d.current=t,s(!1))}),[t]),(0,o.jsx)(u.Provider,{value:c,children:n})}function s(){return(0,r.useContext)(u)}},447612:function(e,n,t){var r=t(575115);e.exports=function(e){return"function"==typeof e?e:r}},7264:function(e,n,t){var r=t(693268),i=t(447612),o=t(867219),a=4294967295,l=Math.min;e.exports=function(e,n){if((e=o(e))<1||e>9007199254740991)return[];var t=a,u=l(e,a);n=i(n),e-=a;for(var c=r(u,n);++t<e;)n(t);return c}},943332:function(e,n,t){var r=t(11674),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},867219:function(e,n,t){var r=t(943332);e.exports=function(e){var n=r(e),t=n%1;return n==n?t?n-t:n:0}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/34406-2b487d21dd9763ee.js.map